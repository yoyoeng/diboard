{"ast":null,"code":"// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\nrequire(\"@rails/ujs\").start();\n\nrequire(\"turbolinks\").start();\n\nrequire(\"@rails/activestorage\").start();\n\nrequire(\"channels\") // Uncomment to copy all static images under ../images to the output folder and reference\n// them with the image_pack_tag helper in views (e.g <%= image_pack_tag 'rails.png' %>)\n// or the `imagePath` JavaScript helper below.\n//\n// const images = require.context('../images', true)\n// const imagePath = (name) => images(name, true)\n\n/*!\n * jQuery Raty - A Star Rating Plugin\n *\n * The MIT License\n *\n * author:  Washington Botelho\n * github:  wbotelhos/raty\n * version: 2.9.0\n *\n */\n(function ($) {\n  'use strict';\n\n  var methods = {\n    init: function init(options) {\n      return this.each(function () {\n        this.self = $(this);\n        methods.destroy.call(this.self);\n        this.opt = $.extend(true, {}, $.fn.raty.defaults, options, this.self.data());\n\n        methods._adjustCallback.call(this);\n\n        methods._adjustNumber.call(this);\n\n        methods._adjustHints.call(this);\n\n        this.opt.score = methods._adjustedScore.call(this, this.opt.score);\n\n        if (this.opt.starType !== 'img') {\n          methods._adjustStarType.call(this);\n        }\n\n        methods._adjustPath.call(this);\n\n        methods._createStars.call(this);\n\n        if (this.opt.cancel) {\n          methods._createCancel.call(this);\n        }\n\n        if (this.opt.precision) {\n          methods._adjustPrecision.call(this);\n        }\n\n        methods._createScore.call(this);\n\n        methods._apply.call(this, this.opt.score);\n\n        methods._setTitle.call(this, this.opt.score);\n\n        methods._target.call(this, this.opt.score);\n\n        if (this.opt.readOnly) {\n          methods._lock.call(this);\n        } else {\n          this.style.cursor = 'pointer';\n\n          methods._binds.call(this);\n        }\n      });\n    },\n    _adjustCallback: function _adjustCallback() {\n      var options = ['number', 'readOnly', 'score', 'scoreName', 'target', 'path'];\n\n      for (var i = 0; i < options.length; i++) {\n        if (typeof this.opt[options[i]] === 'function') {\n          this.opt[options[i]] = this.opt[options[i]].call(this);\n        }\n      }\n    },\n    _adjustedScore: function _adjustedScore(score) {\n      if (!score) {\n        return score;\n      }\n\n      return methods._between(score, 0, this.opt.number);\n    },\n    _adjustHints: function _adjustHints() {\n      if (!this.opt.hints) {\n        this.opt.hints = [];\n      }\n\n      if (!this.opt.halfShow && !this.opt.half) {\n        return;\n      }\n\n      var steps = this.opt.precision ? 10 : 2;\n\n      for (var i = 0; i < this.opt.number; i++) {\n        var group = this.opt.hints[i];\n\n        if (Object.prototype.toString.call(group) !== '[object Array]') {\n          group = [group];\n        }\n\n        this.opt.hints[i] = [];\n\n        for (var j = 0; j < steps; j++) {\n          var hint = group[j],\n              last = group[group.length - 1];\n\n          if (last === undefined) {\n            last = null;\n          }\n\n          this.opt.hints[i][j] = hint === undefined ? last : hint;\n        }\n      }\n    },\n    _adjustNumber: function _adjustNumber() {\n      this.opt.number = methods._between(this.opt.number, 1, this.opt.numberMax);\n    },\n    _adjustPath: function _adjustPath() {\n      this.opt.path = this.opt.path || '';\n\n      if (this.opt.path && this.opt.path.charAt(this.opt.path.length - 1) !== '/') {\n        this.opt.path += '/';\n      }\n    },\n    _adjustPrecision: function _adjustPrecision() {\n      this.opt.half = true;\n    },\n    _adjustStarType: function _adjustStarType() {\n      var replaces = ['cancelOff', 'cancelOn', 'starHalf', 'starOff', 'starOn'];\n      this.opt.path = '';\n\n      for (var i = 0; i < replaces.length; i++) {\n        this.opt[replaces[i]] = this.opt[replaces[i]].replace('.', '-');\n      }\n    },\n    _apply: function _apply(score) {\n      methods._fill.call(this, score);\n\n      if (score) {\n        if (score > 0) {\n          this.score.val(score);\n        }\n\n        methods._roundStars.call(this, score);\n      }\n    },\n    _between: function _between(value, min, max) {\n      return Math.min(Math.max(parseFloat(value), min), max);\n    },\n    _binds: function _binds() {\n      if (this.cancel) {\n        methods._bindOverCancel.call(this);\n\n        methods._bindClickCancel.call(this);\n\n        methods._bindOutCancel.call(this);\n      }\n\n      methods._bindOver.call(this);\n\n      methods._bindClick.call(this);\n\n      methods._bindOut.call(this);\n    },\n    _bindClick: function _bindClick() {\n      var that = this;\n      that.stars.on('click.raty', function (evt) {\n        var execute = true,\n            score = that.opt.half || that.opt.precision ? that.self.data('score') : this.alt || $(this).data('alt');\n\n        if (that.opt.click) {\n          execute = that.opt.click.call(that, +score, evt);\n        }\n\n        if (execute || execute === undefined) {\n          if (that.opt.half && !that.opt.precision) {\n            score = methods._roundHalfScore.call(that, score);\n          }\n\n          methods._apply.call(that, score);\n        }\n      });\n    },\n    _bindClickCancel: function _bindClickCancel() {\n      var that = this;\n      that.cancel.on('click.raty', function (evt) {\n        that.score.removeAttr('value');\n\n        if (that.opt.click) {\n          that.opt.click.call(that, null, evt);\n        }\n      });\n    },\n    _bindOut: function _bindOut() {\n      var that = this;\n      that.self.on('mouseleave.raty', function (evt) {\n        var score = +that.score.val() || undefined;\n\n        methods._apply.call(that, score);\n\n        methods._target.call(that, score, evt);\n\n        methods._resetTitle.call(that);\n\n        if (that.opt.mouseout) {\n          that.opt.mouseout.call(that, score, evt);\n        }\n      });\n    },\n    _bindOutCancel: function _bindOutCancel() {\n      var that = this;\n      that.cancel.on('mouseleave.raty', function (evt) {\n        var icon = that.opt.cancelOff;\n\n        if (that.opt.starType !== 'img') {\n          icon = that.opt.cancelClass + ' ' + icon;\n        }\n\n        methods._setIcon.call(that, this, icon);\n\n        if (that.opt.mouseout) {\n          var score = +that.score.val() || undefined;\n          that.opt.mouseout.call(that, score, evt);\n        }\n      });\n    },\n    _bindOver: function _bindOver() {\n      var that = this,\n          action = that.opt.half ? 'mousemove.raty' : 'mouseover.raty';\n      that.stars.on(action, function (evt) {\n        var score = methods._getScoreByPosition.call(that, evt, this);\n\n        methods._fill.call(that, score);\n\n        if (that.opt.half) {\n          methods._roundStars.call(that, score, evt);\n\n          methods._setTitle.call(that, score, evt);\n\n          that.self.data('score', score);\n        }\n\n        methods._target.call(that, score, evt);\n\n        if (that.opt.mouseover) {\n          that.opt.mouseover.call(that, score, evt);\n        }\n      });\n    },\n    _bindOverCancel: function _bindOverCancel() {\n      var that = this;\n      that.cancel.on('mouseover.raty', function (evt) {\n        var starOff = that.opt.path + that.opt.starOff,\n            icon = that.opt.cancelOn;\n\n        if (that.opt.starType === 'img') {\n          that.stars.attr('src', starOff);\n        } else {\n          icon = that.opt.cancelClass + ' ' + icon;\n          that.stars.attr('class', starOff);\n        }\n\n        methods._setIcon.call(that, this, icon);\n\n        methods._target.call(that, null, evt);\n\n        if (that.opt.mouseover) {\n          that.opt.mouseover.call(that, null);\n        }\n      });\n    },\n    _buildScoreField: function _buildScoreField() {\n      return $('<input />', {\n        name: this.opt.scoreName,\n        type: 'hidden'\n      }).appendTo(this);\n    },\n    _createCancel: function _createCancel() {\n      var icon = this.opt.path + this.opt.cancelOff,\n          cancel = $('<' + this.opt.starType + ' />', {\n        title: this.opt.cancelHint,\n        'class': this.opt.cancelClass\n      });\n\n      if (this.opt.starType === 'img') {\n        cancel.attr({\n          src: icon,\n          alt: 'x'\n        });\n      } else {\n        // TODO: use $.data\n        cancel.attr('data-alt', 'x').addClass(icon);\n      }\n\n      if (this.opt.cancelPlace === 'left') {\n        this.self.prepend('&#160;').prepend(cancel);\n      } else {\n        this.self.append('&#160;').append(cancel);\n      }\n\n      this.cancel = cancel;\n    },\n    _createScore: function _createScore() {\n      var score = $(this.opt.targetScore);\n      this.score = score.length ? score : methods._buildScoreField.call(this);\n    },\n    _createStars: function _createStars() {\n      for (var i = 1; i <= this.opt.number; i++) {\n        var name = methods._nameForIndex.call(this, i),\n            attrs = {\n          alt: i,\n          src: this.opt.path + this.opt[name]\n        };\n\n        if (this.opt.starType !== 'img') {\n          attrs = {\n            'data-alt': i,\n            'class': attrs.src\n          }; // TODO: use $.data.\n        }\n\n        attrs.title = methods._getHint.call(this, i);\n        $('<' + this.opt.starType + ' />', attrs).appendTo(this);\n\n        if (this.opt.space) {\n          this.self.append(i < this.opt.number ? '&#160;' : '');\n        }\n      }\n\n      this.stars = this.self.children(this.opt.starType);\n    },\n    _error: function _error(message) {\n      $(this).text(message);\n      $.error(message);\n    },\n    _fill: function _fill(score) {\n      var hash = 0;\n\n      for (var i = 1; i <= this.stars.length; i++) {\n        var icon,\n            star = this.stars[i - 1],\n            turnOn = methods._turnOn.call(this, i, score);\n\n        if (this.opt.iconRange && this.opt.iconRange.length > hash) {\n          var irange = this.opt.iconRange[hash];\n          icon = methods._getRangeIcon.call(this, irange, turnOn);\n\n          if (i <= irange.range) {\n            methods._setIcon.call(this, star, icon);\n          }\n\n          if (i === irange.range) {\n            hash++;\n          }\n        } else {\n          icon = this.opt[turnOn ? 'starOn' : 'starOff'];\n\n          methods._setIcon.call(this, star, icon);\n        }\n      }\n    },\n    _getFirstDecimal: function _getFirstDecimal(number) {\n      var decimal = number.toString().split('.')[1],\n          result = 0;\n\n      if (decimal) {\n        result = parseInt(decimal.charAt(0), 10);\n\n        if (decimal.slice(1, 5) === '9999') {\n          result++;\n        }\n      }\n\n      return result;\n    },\n    _getRangeIcon: function _getRangeIcon(irange, turnOn) {\n      return turnOn ? irange.on || this.opt.starOn : irange.off || this.opt.starOff;\n    },\n    _getScoreByPosition: function _getScoreByPosition(evt, icon) {\n      var score = parseInt(icon.alt || icon.getAttribute('data-alt'), 10);\n\n      if (this.opt.half) {\n        var size = methods._getWidth.call(this),\n            percent = parseFloat((evt.pageX - $(icon).offset().left) / size);\n\n        score = score - 1 + percent;\n      }\n\n      return score;\n    },\n    _getHint: function _getHint(score, evt) {\n      if (score !== 0 && !score) {\n        return this.opt.noRatedMsg;\n      }\n\n      var decimal = methods._getFirstDecimal.call(this, score),\n          integer = Math.ceil(score),\n          group = this.opt.hints[(integer || 1) - 1],\n          hint = group,\n          set = !evt || this.move;\n\n      if (this.opt.precision) {\n        if (set) {\n          decimal = decimal === 0 ? 9 : decimal - 1;\n        }\n\n        hint = group[decimal];\n      } else if (this.opt.halfShow || this.opt.half) {\n        decimal = set && decimal === 0 ? 1 : decimal > 5 ? 1 : 0;\n        hint = group[decimal];\n      }\n\n      return hint === '' ? '' : hint || score;\n    },\n    _getWidth: function _getWidth() {\n      var width = this.stars[0].width || parseFloat(this.stars.eq(0).css('font-size'));\n\n      if (!width) {\n        methods._error.call(this, 'Could not get the icon width!');\n      }\n\n      return width;\n    },\n    _lock: function _lock() {\n      var hint = methods._getHint.call(this, this.score.val());\n\n      this.style.cursor = '';\n      this.title = hint;\n      this.score.prop('readonly', true);\n      this.stars.prop('title', hint);\n\n      if (this.cancel) {\n        this.cancel.hide();\n      }\n\n      this.self.data('readonly', true);\n    },\n    _nameForIndex: function _nameForIndex(i) {\n      return this.opt.score && this.opt.score >= i ? 'starOn' : 'starOff';\n    },\n    _resetTitle: function _resetTitle() {\n      for (var i = 0; i < this.opt.number; i++) {\n        this.stars[i].title = methods._getHint.call(this, i + 1);\n      }\n    },\n    _roundHalfScore: function _roundHalfScore(score) {\n      var integer = parseInt(score, 10),\n          decimal = methods._getFirstDecimal.call(this, score);\n\n      if (decimal !== 0) {\n        decimal = decimal > 5 ? 1 : 0.5;\n      }\n\n      return integer + decimal;\n    },\n    _roundStars: function _roundStars(score, evt) {\n      var decimal = (score % 1).toFixed(2),\n          name;\n\n      if (evt || this.move) {\n        name = decimal > 0.5 ? 'starOn' : 'starHalf';\n      } else if (decimal > this.opt.round.down) {\n        // Up: [x.76 .. x.99]\n        name = 'starOn';\n\n        if (this.opt.halfShow && decimal < this.opt.round.up) {\n          // Half: [x.26 .. x.75]\n          name = 'starHalf';\n        } else if (decimal < this.opt.round.full) {\n          // Down: [x.00 .. x.5]\n          name = 'starOff';\n        }\n      }\n\n      if (name) {\n        var icon = this.opt[name],\n            star = this.stars[Math.ceil(score) - 1];\n\n        methods._setIcon.call(this, star, icon);\n      } // Full down: [x.00 .. x.25]\n\n    },\n    _setIcon: function _setIcon(star, icon) {\n      star[this.opt.starType === 'img' ? 'src' : 'className'] = this.opt.path + icon;\n    },\n    _setTarget: function _setTarget(target, score) {\n      if (score) {\n        score = this.opt.targetFormat.toString().replace('{score}', score);\n      }\n\n      if (target.is(':input')) {\n        target.val(score);\n      } else {\n        target.html(score);\n      }\n    },\n    _setTitle: function _setTitle(score, evt) {\n      if (score) {\n        var integer = parseInt(Math.ceil(score), 10),\n            star = this.stars[integer - 1];\n        star.title = methods._getHint.call(this, score, evt);\n      }\n    },\n    _target: function _target(score, evt) {\n      if (this.opt.target) {\n        var target = $(this.opt.target);\n\n        if (!target.length) {\n          methods._error.call(this, 'Target selector invalid or missing!');\n        }\n\n        var mouseover = evt && evt.type === 'mouseover';\n\n        if (score === undefined) {\n          score = this.opt.targetText;\n        } else if (score === null) {\n          score = mouseover ? this.opt.cancelHint : this.opt.targetText;\n        } else {\n          if (this.opt.targetType === 'hint') {\n            score = methods._getHint.call(this, score, evt);\n          } else if (this.opt.precision) {\n            score = parseFloat(score).toFixed(1);\n          }\n\n          var mousemove = evt && evt.type === 'mousemove';\n\n          if (!mouseover && !mousemove && !this.opt.targetKeep) {\n            score = this.opt.targetText;\n          }\n        }\n\n        methods._setTarget.call(this, target, score);\n      }\n    },\n    _turnOn: function _turnOn(i, score) {\n      return this.opt.single ? i === score : i <= score;\n    },\n    _unlock: function _unlock() {\n      this.style.cursor = 'pointer';\n      this.removeAttribute('title');\n      this.score.removeAttr('readonly');\n      this.self.data('readonly', false);\n\n      for (var i = 0; i < this.opt.number; i++) {\n        this.stars[i].title = methods._getHint.call(this, i + 1);\n      }\n\n      if (this.cancel) {\n        this.cancel.css('display', '');\n      }\n    },\n    cancel: function cancel(click) {\n      return this.each(function () {\n        var self = $(this);\n\n        if (self.data('readonly') !== true) {\n          methods[click ? 'click' : 'score'].call(self, null);\n          this.score.removeAttr('value');\n        }\n      });\n    },\n    click: function click(score) {\n      return this.each(function () {\n        if ($(this).data('readonly') !== true) {\n          score = methods._adjustedScore.call(this, score);\n\n          methods._apply.call(this, score);\n\n          if (this.opt.click) {\n            this.opt.click.call(this, score, $.Event('click'));\n          }\n\n          methods._target.call(this, score);\n        }\n      });\n    },\n    destroy: function destroy() {\n      return this.each(function () {\n        var self = $(this),\n            raw = self.data('raw');\n\n        if (raw) {\n          self.off('.raty').empty().css({\n            cursor: raw.style.cursor\n          }).removeData('readonly');\n        } else {\n          self.data('raw', self.clone()[0]);\n        }\n      });\n    },\n    getScore: function getScore() {\n      var score = [],\n          value;\n      this.each(function () {\n        value = this.score.val();\n        score.push(value ? +value : undefined);\n      });\n      return score.length > 1 ? score : score[0];\n    },\n    move: function move(score) {\n      return this.each(function () {\n        var integer = parseInt(score, 10),\n            decimal = methods._getFirstDecimal.call(this, score);\n\n        if (integer >= this.opt.number) {\n          integer = this.opt.number - 1;\n          decimal = 10;\n        }\n\n        var width = methods._getWidth.call(this),\n            steps = width / 10,\n            star = $(this.stars[integer]),\n            percent = star.offset().left + steps * decimal,\n            evt = $.Event('mousemove', {\n          pageX: percent\n        });\n\n        this.move = true;\n        star.trigger(evt);\n        this.move = false;\n      });\n    },\n    readOnly: function readOnly(readonly) {\n      return this.each(function () {\n        var self = $(this);\n\n        if (self.data('readonly') !== readonly) {\n          if (readonly) {\n            self.off('.raty').children(this.opt.starType).off('.raty');\n\n            methods._lock.call(this);\n          } else {\n            methods._binds.call(this);\n\n            methods._unlock.call(this);\n          }\n\n          self.data('readonly', readonly);\n        }\n      });\n    },\n    reload: function reload() {\n      return methods.set.call(this, {});\n    },\n    score: function score() {\n      var self = $(this);\n      return arguments.length ? methods.setScore.apply(self, arguments) : methods.getScore.call(self);\n    },\n    set: function set(options) {\n      return this.each(function () {\n        $(this).raty($.extend({}, this.opt, options));\n      });\n    },\n    setScore: function setScore(score) {\n      return this.each(function () {\n        if ($(this).data('readonly') !== true) {\n          score = methods._adjustedScore.call(this, score);\n\n          methods._apply.call(this, score);\n\n          methods._target.call(this, score);\n        }\n      });\n    }\n  };\n\n  $.fn.raty = function (method) {\n    if (methods[method]) {\n      return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n    } else if (typeof method === 'object' || !method) {\n      return methods.init.apply(this, arguments);\n    } else {\n      $.error('Method ' + method + ' does not exist!');\n    }\n  };\n\n  $.fn.raty.defaults = {\n    cancel: false,\n    cancelClass: 'raty-cancel',\n    cancelHint: 'Cancel this rating!',\n    cancelOff: 'cancel-off.png',\n    cancelOn: 'cancel-on.png',\n    cancelPlace: 'left',\n    click: undefined,\n    half: false,\n    halfShow: true,\n    hints: ['bad', 'poor', 'regular', 'good', 'gorgeous'],\n    iconRange: undefined,\n    mouseout: undefined,\n    mouseover: undefined,\n    noRatedMsg: 'Not rated yet!',\n    number: 5,\n    numberMax: 20,\n    path: undefined,\n    precision: false,\n    readOnly: false,\n    round: {\n      down: 0.25,\n      full: 0.6,\n      up: 0.76\n    },\n    score: undefined,\n    scoreName: 'score',\n    single: false,\n    space: true,\n    starHalf: 'star-half.png',\n    starOff: 'star-off.png',\n    starOn: 'star-on.png',\n    starType: 'img',\n    target: undefined,\n    targetFormat: '{score}',\n    targetKeep: false,\n    targetScore: undefined,\n    targetText: '',\n    targetType: 'hint'\n  };\n})(jQuery);","map":{"version":3,"sources":["C:/Users/cf182/Desktop/pastel/app/javascript/packs/application.js"],"names":["require","start","$","methods","init","options","each","self","destroy","call","opt","extend","fn","raty","defaults","data","_adjustCallback","_adjustNumber","_adjustHints","score","_adjustedScore","starType","_adjustStarType","_adjustPath","_createStars","cancel","_createCancel","precision","_adjustPrecision","_createScore","_apply","_setTitle","_target","readOnly","_lock","style","cursor","_binds","i","length","_between","number","hints","halfShow","half","steps","group","Object","prototype","toString","j","hint","last","undefined","numberMax","path","charAt","replaces","replace","_fill","val","_roundStars","value","min","max","Math","parseFloat","_bindOverCancel","_bindClickCancel","_bindOutCancel","_bindOver","_bindClick","_bindOut","that","stars","on","evt","execute","alt","click","_roundHalfScore","removeAttr","_resetTitle","mouseout","icon","cancelOff","cancelClass","_setIcon","action","_getScoreByPosition","mouseover","starOff","cancelOn","attr","_buildScoreField","name","scoreName","type","appendTo","title","cancelHint","src","addClass","cancelPlace","prepend","append","targetScore","_nameForIndex","attrs","_getHint","space","children","_error","message","text","error","hash","star","turnOn","_turnOn","iconRange","irange","_getRangeIcon","range","_getFirstDecimal","decimal","split","result","parseInt","slice","starOn","off","getAttribute","size","_getWidth","percent","pageX","offset","left","noRatedMsg","integer","ceil","set","move","width","eq","css","prop","hide","toFixed","round","down","up","full","_setTarget","target","targetFormat","is","html","targetText","targetType","mousemove","targetKeep","single","_unlock","removeAttribute","Event","raw","empty","removeData","clone","getScore","push","trigger","readonly","reload","arguments","setScore","apply","method","Array","starHalf","jQuery"],"mappings":"AAAA;AACA;AACA;AACA;AAEAA,OAAO,CAAC,YAAD,CAAP,CAAsBC,KAAtB;;AACAD,OAAO,CAAC,YAAD,CAAP,CAAsBC,KAAtB;;AACAD,OAAO,CAAC,sBAAD,CAAP,CAAgCC,KAAhC;;AACAD,OAAO,CAAC,UAAD,CAAP,CAIA;AACA;AACA;AACA;AACA;AACA;;AACA;;;;;;;;;;AAVA,CAqBC,UAASE,CAAT,EAAY;AACT;;AAEA,MAAIC,OAAO,GAAG;AACZC,IAAAA,IAAI,EAAE,cAASC,OAAT,EAAkB;AACtB,aAAO,KAAKC,IAAL,CAAU,YAAW;AAC1B,aAAKC,IAAL,GAAYL,CAAC,CAAC,IAAD,CAAb;AAEAC,QAAAA,OAAO,CAACK,OAAR,CAAgBC,IAAhB,CAAqB,KAAKF,IAA1B;AAEA,aAAKG,GAAL,GAAWR,CAAC,CAACS,MAAF,CAAS,IAAT,EAAe,EAAf,EAAmBT,CAAC,CAACU,EAAF,CAAKC,IAAL,CAAUC,QAA7B,EAAuCT,OAAvC,EAAgD,KAAKE,IAAL,CAAUQ,IAAV,EAAhD,CAAX;;AAEAZ,QAAAA,OAAO,CAACa,eAAR,CAAwBP,IAAxB,CAA6B,IAA7B;;AACAN,QAAAA,OAAO,CAACc,aAAR,CAAsBR,IAAtB,CAA2B,IAA3B;;AACAN,QAAAA,OAAO,CAACe,YAAR,CAAqBT,IAArB,CAA0B,IAA1B;;AAEA,aAAKC,GAAL,CAASS,KAAT,GAAiBhB,OAAO,CAACiB,cAAR,CAAuBX,IAAvB,CAA4B,IAA5B,EAAkC,KAAKC,GAAL,CAASS,KAA3C,CAAjB;;AAEA,YAAI,KAAKT,GAAL,CAASW,QAAT,KAAsB,KAA1B,EAAiC;AAC/BlB,UAAAA,OAAO,CAACmB,eAAR,CAAwBb,IAAxB,CAA6B,IAA7B;AACD;;AAEDN,QAAAA,OAAO,CAACoB,WAAR,CAAoBd,IAApB,CAAyB,IAAzB;;AACAN,QAAAA,OAAO,CAACqB,YAAR,CAAqBf,IAArB,CAA0B,IAA1B;;AAEA,YAAI,KAAKC,GAAL,CAASe,MAAb,EAAqB;AACnBtB,UAAAA,OAAO,CAACuB,aAAR,CAAsBjB,IAAtB,CAA2B,IAA3B;AACD;;AAED,YAAI,KAAKC,GAAL,CAASiB,SAAb,EAAwB;AACtBxB,UAAAA,OAAO,CAACyB,gBAAR,CAAyBnB,IAAzB,CAA8B,IAA9B;AACD;;AAEDN,QAAAA,OAAO,CAAC0B,YAAR,CAAqBpB,IAArB,CAA0B,IAA1B;;AACAN,QAAAA,OAAO,CAAC2B,MAAR,CAAerB,IAAf,CAAoB,IAApB,EAA0B,KAAKC,GAAL,CAASS,KAAnC;;AACAhB,QAAAA,OAAO,CAAC4B,SAAR,CAAkBtB,IAAlB,CAAuB,IAAvB,EAA6B,KAAKC,GAAL,CAASS,KAAtC;;AACAhB,QAAAA,OAAO,CAAC6B,OAAR,CAAgBvB,IAAhB,CAAqB,IAArB,EAA2B,KAAKC,GAAL,CAASS,KAApC;;AAEA,YAAI,KAAKT,GAAL,CAASuB,QAAb,EAAuB;AACrB9B,UAAAA,OAAO,CAAC+B,KAAR,CAAczB,IAAd,CAAmB,IAAnB;AACD,SAFD,MAEO;AACL,eAAK0B,KAAL,CAAWC,MAAX,GAAoB,SAApB;;AAEAjC,UAAAA,OAAO,CAACkC,MAAR,CAAe5B,IAAf,CAAoB,IAApB;AACD;AACF,OAxCM,CAAP;AAyCD,KA3CW;AA6CZO,IAAAA,eAAe,EAAE,2BAAW;AAC1B,UAAIX,OAAO,GAAG,CAAC,QAAD,EAAW,UAAX,EAAuB,OAAvB,EAAgC,WAAhC,EAA6C,QAA7C,EAAuD,MAAvD,CAAd;;AAEA,WAAK,IAAIiC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjC,OAAO,CAACkC,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC,YAAI,OAAO,KAAK5B,GAAL,CAASL,OAAO,CAACiC,CAAD,CAAhB,CAAP,KAAgC,UAApC,EAAgD;AAC9C,eAAK5B,GAAL,CAASL,OAAO,CAACiC,CAAD,CAAhB,IAAuB,KAAK5B,GAAL,CAASL,OAAO,CAACiC,CAAD,CAAhB,EAAqB7B,IAArB,CAA0B,IAA1B,CAAvB;AACD;AACF;AACF,KArDW;AAuDZW,IAAAA,cAAc,EAAE,wBAASD,KAAT,EAAgB;AAC9B,UAAI,CAACA,KAAL,EAAY;AACV,eAAOA,KAAP;AACD;;AAED,aAAOhB,OAAO,CAACqC,QAAR,CAAiBrB,KAAjB,EAAwB,CAAxB,EAA2B,KAAKT,GAAL,CAAS+B,MAApC,CAAP;AACD,KA7DW;AA+DZvB,IAAAA,YAAY,EAAE,wBAAW;AACvB,UAAI,CAAC,KAAKR,GAAL,CAASgC,KAAd,EAAqB;AACnB,aAAKhC,GAAL,CAASgC,KAAT,GAAiB,EAAjB;AACD;;AAED,UAAI,CAAC,KAAKhC,GAAL,CAASiC,QAAV,IAAsB,CAAC,KAAKjC,GAAL,CAASkC,IAApC,EAA0C;AACxC;AACD;;AAED,UAAIC,KAAK,GAAG,KAAKnC,GAAL,CAASiB,SAAT,GAAqB,EAArB,GAA0B,CAAtC;;AAEA,WAAK,IAAIW,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK5B,GAAL,CAAS+B,MAA7B,EAAqCH,CAAC,EAAtC,EAA0C;AACxC,YAAIQ,KAAK,GAAG,KAAKpC,GAAL,CAASgC,KAAT,CAAeJ,CAAf,CAAZ;;AAEA,YAAIS,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BxC,IAA1B,CAA+BqC,KAA/B,MAA0C,gBAA9C,EAAgE;AAC9DA,UAAAA,KAAK,GAAG,CAACA,KAAD,CAAR;AACD;;AAED,aAAKpC,GAAL,CAASgC,KAAT,CAAeJ,CAAf,IAAoB,EAApB;;AAEA,aAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,KAApB,EAA2BK,CAAC,EAA5B,EAAgC;AAC9B,cACEC,IAAI,GAAGL,KAAK,CAACI,CAAD,CADd;AAAA,cAEEE,IAAI,GAAGN,KAAK,CAACA,KAAK,CAACP,MAAN,GAAe,CAAhB,CAFd;;AAIA,cAAIa,IAAI,KAAKC,SAAb,EAAwB;AACtBD,YAAAA,IAAI,GAAG,IAAP;AACD;;AAED,eAAK1C,GAAL,CAASgC,KAAT,CAAeJ,CAAf,EAAkBY,CAAlB,IAAuBC,IAAI,KAAKE,SAAT,GAAqBD,IAArB,GAA4BD,IAAnD;AACD;AACF;AACF,KA/FW;AAiGZlC,IAAAA,aAAa,EAAE,yBAAW;AACxB,WAAKP,GAAL,CAAS+B,MAAT,GAAkBtC,OAAO,CAACqC,QAAR,CAAiB,KAAK9B,GAAL,CAAS+B,MAA1B,EAAkC,CAAlC,EAAqC,KAAK/B,GAAL,CAAS4C,SAA9C,CAAlB;AACD,KAnGW;AAqGZ/B,IAAAA,WAAW,EAAE,uBAAW;AACtB,WAAKb,GAAL,CAAS6C,IAAT,GAAgB,KAAK7C,GAAL,CAAS6C,IAAT,IAAiB,EAAjC;;AAEA,UAAI,KAAK7C,GAAL,CAAS6C,IAAT,IAAiB,KAAK7C,GAAL,CAAS6C,IAAT,CAAcC,MAAd,CAAqB,KAAK9C,GAAL,CAAS6C,IAAT,CAAchB,MAAd,GAAuB,CAA5C,MAAmD,GAAxE,EAA6E;AAC3E,aAAK7B,GAAL,CAAS6C,IAAT,IAAiB,GAAjB;AACD;AACF,KA3GW;AA6GZ3B,IAAAA,gBAAgB,EAAE,4BAAW;AAC3B,WAAKlB,GAAL,CAASkC,IAAT,GAAgB,IAAhB;AACD,KA/GW;AAiHZtB,IAAAA,eAAe,EAAE,2BAAW;AAC1B,UAAImC,QAAQ,GAAG,CAAC,WAAD,EAAc,UAAd,EAA0B,UAA1B,EAAsC,SAAtC,EAAiD,QAAjD,CAAf;AAEA,WAAK/C,GAAL,CAAS6C,IAAT,GAAgB,EAAhB;;AAEA,WAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmB,QAAQ,CAAClB,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,aAAK5B,GAAL,CAAS+C,QAAQ,CAACnB,CAAD,CAAjB,IAAwB,KAAK5B,GAAL,CAAS+C,QAAQ,CAACnB,CAAD,CAAjB,EAAsBoB,OAAtB,CAA8B,GAA9B,EAAmC,GAAnC,CAAxB;AACD;AACF,KAzHW;AA2HZ5B,IAAAA,MAAM,EAAE,gBAASX,KAAT,EAAgB;AACtBhB,MAAAA,OAAO,CAACwD,KAAR,CAAclD,IAAd,CAAmB,IAAnB,EAAyBU,KAAzB;;AAEA,UAAIA,KAAJ,EAAW;AACT,YAAIA,KAAK,GAAG,CAAZ,EAAe;AACb,eAAKA,KAAL,CAAWyC,GAAX,CAAezC,KAAf;AACD;;AAEDhB,QAAAA,OAAO,CAAC0D,WAAR,CAAoBpD,IAApB,CAAyB,IAAzB,EAA+BU,KAA/B;AACD;AACF,KArIW;AAuIZqB,IAAAA,QAAQ,EAAE,kBAASsB,KAAT,EAAgBC,GAAhB,EAAqBC,GAArB,EAA0B;AAClC,aAAOC,IAAI,CAACF,GAAL,CAASE,IAAI,CAACD,GAAL,CAASE,UAAU,CAACJ,KAAD,CAAnB,EAA4BC,GAA5B,CAAT,EAA2CC,GAA3C,CAAP;AACD,KAzIW;AA2IZ3B,IAAAA,MAAM,EAAE,kBAAW;AACjB,UAAI,KAAKZ,MAAT,EAAiB;AACftB,QAAAA,OAAO,CAACgE,eAAR,CAAwB1D,IAAxB,CAA6B,IAA7B;;AACAN,QAAAA,OAAO,CAACiE,gBAAR,CAAyB3D,IAAzB,CAA8B,IAA9B;;AACAN,QAAAA,OAAO,CAACkE,cAAR,CAAuB5D,IAAvB,CAA4B,IAA5B;AACD;;AAEDN,MAAAA,OAAO,CAACmE,SAAR,CAAkB7D,IAAlB,CAAuB,IAAvB;;AACAN,MAAAA,OAAO,CAACoE,UAAR,CAAmB9D,IAAnB,CAAwB,IAAxB;;AACAN,MAAAA,OAAO,CAACqE,QAAR,CAAiB/D,IAAjB,CAAsB,IAAtB;AACD,KArJW;AAuJZ8D,IAAAA,UAAU,EAAE,sBAAW;AACrB,UAAIE,IAAI,GAAG,IAAX;AAEAA,MAAAA,IAAI,CAACC,KAAL,CAAWC,EAAX,CAAc,YAAd,EAA4B,UAASC,GAAT,EAAc;AACxC,YACEC,OAAO,GAAG,IADZ;AAAA,YAEE1D,KAAK,GAAMsD,IAAI,CAAC/D,GAAL,CAASkC,IAAT,IAAiB6B,IAAI,CAAC/D,GAAL,CAASiB,SAA3B,GAAwC8C,IAAI,CAAClE,IAAL,CAAUQ,IAAV,CAAe,OAAf,CAAxC,GAAmE,KAAK+D,GAAL,IAAY5E,CAAC,CAAC,IAAD,CAAD,CAAQa,IAAR,CAAa,KAAb,CAF3F;;AAIA,YAAI0D,IAAI,CAAC/D,GAAL,CAASqE,KAAb,EAAoB;AAClBF,UAAAA,OAAO,GAAGJ,IAAI,CAAC/D,GAAL,CAASqE,KAAT,CAAetE,IAAf,CAAoBgE,IAApB,EAA0B,CAACtD,KAA3B,EAAkCyD,GAAlC,CAAV;AACD;;AAED,YAAIC,OAAO,IAAIA,OAAO,KAAKxB,SAA3B,EAAsC;AACpC,cAAIoB,IAAI,CAAC/D,GAAL,CAASkC,IAAT,IAAiB,CAAC6B,IAAI,CAAC/D,GAAL,CAASiB,SAA/B,EAA0C;AACxCR,YAAAA,KAAK,GAAGhB,OAAO,CAAC6E,eAAR,CAAwBvE,IAAxB,CAA6BgE,IAA7B,EAAmCtD,KAAnC,CAAR;AACD;;AAEDhB,UAAAA,OAAO,CAAC2B,MAAR,CAAerB,IAAf,CAAoBgE,IAApB,EAA0BtD,KAA1B;AACD;AACF,OAhBD;AAiBD,KA3KW;AA6KZiD,IAAAA,gBAAgB,EAAE,4BAAW;AAC3B,UAAIK,IAAI,GAAG,IAAX;AAEAA,MAAAA,IAAI,CAAChD,MAAL,CAAYkD,EAAZ,CAAe,YAAf,EAA6B,UAASC,GAAT,EAAc;AACzCH,QAAAA,IAAI,CAACtD,KAAL,CAAW8D,UAAX,CAAsB,OAAtB;;AAEA,YAAIR,IAAI,CAAC/D,GAAL,CAASqE,KAAb,EAAoB;AAClBN,UAAAA,IAAI,CAAC/D,GAAL,CAASqE,KAAT,CAAetE,IAAf,CAAoBgE,IAApB,EAA0B,IAA1B,EAAgCG,GAAhC;AACD;AACF,OAND;AAOD,KAvLW;AAyLZJ,IAAAA,QAAQ,EAAE,oBAAW;AACnB,UAAIC,IAAI,GAAG,IAAX;AAEAA,MAAAA,IAAI,CAAClE,IAAL,CAAUoE,EAAV,CAAa,iBAAb,EAAgC,UAASC,GAAT,EAAc;AAC5C,YAAIzD,KAAK,GAAG,CAACsD,IAAI,CAACtD,KAAL,CAAWyC,GAAX,EAAD,IAAqBP,SAAjC;;AAEAlD,QAAAA,OAAO,CAAC2B,MAAR,CAAerB,IAAf,CAAoBgE,IAApB,EAA0BtD,KAA1B;;AACAhB,QAAAA,OAAO,CAAC6B,OAAR,CAAgBvB,IAAhB,CAAqBgE,IAArB,EAA2BtD,KAA3B,EAAkCyD,GAAlC;;AACAzE,QAAAA,OAAO,CAAC+E,WAAR,CAAoBzE,IAApB,CAAyBgE,IAAzB;;AAEA,YAAIA,IAAI,CAAC/D,GAAL,CAASyE,QAAb,EAAuB;AACrBV,UAAAA,IAAI,CAAC/D,GAAL,CAASyE,QAAT,CAAkB1E,IAAlB,CAAuBgE,IAAvB,EAA6BtD,KAA7B,EAAoCyD,GAApC;AACD;AACF,OAVD;AAWD,KAvMW;AAyMZP,IAAAA,cAAc,EAAE,0BAAW;AACzB,UAAII,IAAI,GAAG,IAAX;AAEAA,MAAAA,IAAI,CAAChD,MAAL,CAAYkD,EAAZ,CAAe,iBAAf,EAAkC,UAASC,GAAT,EAAc;AAC9C,YAAIQ,IAAI,GAAGX,IAAI,CAAC/D,GAAL,CAAS2E,SAApB;;AAEA,YAAIZ,IAAI,CAAC/D,GAAL,CAASW,QAAT,KAAsB,KAA1B,EAAiC;AAC/B+D,UAAAA,IAAI,GAAGX,IAAI,CAAC/D,GAAL,CAAS4E,WAAT,GAAuB,GAAvB,GAA6BF,IAApC;AACD;;AAEDjF,QAAAA,OAAO,CAACoF,QAAR,CAAiB9E,IAAjB,CAAsBgE,IAAtB,EAA4B,IAA5B,EAAkCW,IAAlC;;AAEA,YAAIX,IAAI,CAAC/D,GAAL,CAASyE,QAAb,EAAuB;AACrB,cAAIhE,KAAK,GAAG,CAACsD,IAAI,CAACtD,KAAL,CAAWyC,GAAX,EAAD,IAAqBP,SAAjC;AAEAoB,UAAAA,IAAI,CAAC/D,GAAL,CAASyE,QAAT,CAAkB1E,IAAlB,CAAuBgE,IAAvB,EAA6BtD,KAA7B,EAAoCyD,GAApC;AACD;AACF,OAdD;AAeD,KA3NW;AA6NZN,IAAAA,SAAS,EAAE,qBAAW;AACpB,UACEG,IAAI,GAAK,IADX;AAAA,UAEEe,MAAM,GAAGf,IAAI,CAAC/D,GAAL,CAASkC,IAAT,GAAgB,gBAAhB,GAAmC,gBAF9C;AAIA6B,MAAAA,IAAI,CAACC,KAAL,CAAWC,EAAX,CAAca,MAAd,EAAsB,UAASZ,GAAT,EAAc;AAClC,YAAIzD,KAAK,GAAGhB,OAAO,CAACsF,mBAAR,CAA4BhF,IAA5B,CAAiCgE,IAAjC,EAAuCG,GAAvC,EAA4C,IAA5C,CAAZ;;AAEAzE,QAAAA,OAAO,CAACwD,KAAR,CAAclD,IAAd,CAAmBgE,IAAnB,EAAyBtD,KAAzB;;AAEA,YAAIsD,IAAI,CAAC/D,GAAL,CAASkC,IAAb,EAAmB;AACjBzC,UAAAA,OAAO,CAAC0D,WAAR,CAAoBpD,IAApB,CAAyBgE,IAAzB,EAA+BtD,KAA/B,EAAsCyD,GAAtC;;AACAzE,UAAAA,OAAO,CAAC4B,SAAR,CAAkBtB,IAAlB,CAAuBgE,IAAvB,EAA6BtD,KAA7B,EAAoCyD,GAApC;;AAEAH,UAAAA,IAAI,CAAClE,IAAL,CAAUQ,IAAV,CAAe,OAAf,EAAwBI,KAAxB;AACD;;AAEDhB,QAAAA,OAAO,CAAC6B,OAAR,CAAgBvB,IAAhB,CAAqBgE,IAArB,EAA2BtD,KAA3B,EAAkCyD,GAAlC;;AAEA,YAAIH,IAAI,CAAC/D,GAAL,CAASgF,SAAb,EAAwB;AACtBjB,UAAAA,IAAI,CAAC/D,GAAL,CAASgF,SAAT,CAAmBjF,IAAnB,CAAwBgE,IAAxB,EAA8BtD,KAA9B,EAAqCyD,GAArC;AACD;AACF,OAjBD;AAkBD,KApPW;AAsPZT,IAAAA,eAAe,EAAE,2BAAW;AAC1B,UAAIM,IAAI,GAAG,IAAX;AAEAA,MAAAA,IAAI,CAAChD,MAAL,CAAYkD,EAAZ,CAAe,gBAAf,EAAiC,UAASC,GAAT,EAAc;AAC7C,YACEe,OAAO,GAAGlB,IAAI,CAAC/D,GAAL,CAAS6C,IAAT,GAAgBkB,IAAI,CAAC/D,GAAL,CAASiF,OADrC;AAAA,YAEEP,IAAI,GAAMX,IAAI,CAAC/D,GAAL,CAASkF,QAFrB;;AAIA,YAAInB,IAAI,CAAC/D,GAAL,CAASW,QAAT,KAAsB,KAA1B,EAAiC;AAC/BoD,UAAAA,IAAI,CAACC,KAAL,CAAWmB,IAAX,CAAgB,KAAhB,EAAuBF,OAAvB;AACD,SAFD,MAEO;AACLP,UAAAA,IAAI,GAAGX,IAAI,CAAC/D,GAAL,CAAS4E,WAAT,GAAuB,GAAvB,GAA6BF,IAApC;AAEAX,UAAAA,IAAI,CAACC,KAAL,CAAWmB,IAAX,CAAgB,OAAhB,EAAyBF,OAAzB;AACD;;AAEDxF,QAAAA,OAAO,CAACoF,QAAR,CAAiB9E,IAAjB,CAAsBgE,IAAtB,EAA4B,IAA5B,EAAkCW,IAAlC;;AACAjF,QAAAA,OAAO,CAAC6B,OAAR,CAAgBvB,IAAhB,CAAqBgE,IAArB,EAA2B,IAA3B,EAAiCG,GAAjC;;AAEA,YAAIH,IAAI,CAAC/D,GAAL,CAASgF,SAAb,EAAwB;AACtBjB,UAAAA,IAAI,CAAC/D,GAAL,CAASgF,SAAT,CAAmBjF,IAAnB,CAAwBgE,IAAxB,EAA8B,IAA9B;AACD;AACF,OAnBD;AAoBD,KA7QW;AA+QZqB,IAAAA,gBAAgB,EAAE,4BAAW;AAC3B,aAAO5F,CAAC,CAAC,WAAD,EAAc;AAAE6F,QAAAA,IAAI,EAAE,KAAKrF,GAAL,CAASsF,SAAjB;AAA4BC,QAAAA,IAAI,EAAE;AAAlC,OAAd,CAAD,CAA6DC,QAA7D,CAAsE,IAAtE,CAAP;AACD,KAjRW;AAmRZxE,IAAAA,aAAa,EAAE,yBAAW;AACxB,UACE0D,IAAI,GAAK,KAAK1E,GAAL,CAAS6C,IAAT,GAAgB,KAAK7C,GAAL,CAAS2E,SADpC;AAAA,UAEE5D,MAAM,GAAGvB,CAAC,CAAC,MAAM,KAAKQ,GAAL,CAASW,QAAf,GAA0B,KAA3B,EAAkC;AAAE8E,QAAAA,KAAK,EAAE,KAAKzF,GAAL,CAAS0F,UAAlB;AAA8B,iBAAS,KAAK1F,GAAL,CAAS4E;AAAhD,OAAlC,CAFZ;;AAIA,UAAI,KAAK5E,GAAL,CAASW,QAAT,KAAsB,KAA1B,EAAiC;AAC/BI,QAAAA,MAAM,CAACoE,IAAP,CAAY;AAAEQ,UAAAA,GAAG,EAAEjB,IAAP;AAAaN,UAAAA,GAAG,EAAE;AAAlB,SAAZ;AACD,OAFD,MAEO;AACL;AACArD,QAAAA,MAAM,CAACoE,IAAP,CAAY,UAAZ,EAAwB,GAAxB,EAA6BS,QAA7B,CAAsClB,IAAtC;AACD;;AAED,UAAI,KAAK1E,GAAL,CAAS6F,WAAT,KAAyB,MAA7B,EAAqC;AACnC,aAAKhG,IAAL,CAAUiG,OAAV,CAAkB,QAAlB,EAA4BA,OAA5B,CAAoC/E,MAApC;AACD,OAFD,MAEO;AACL,aAAKlB,IAAL,CAAUkG,MAAV,CAAiB,QAAjB,EAA2BA,MAA3B,CAAkChF,MAAlC;AACD;;AAED,WAAKA,MAAL,GAAcA,MAAd;AACD,KAtSW;AAwSZI,IAAAA,YAAY,EAAE,wBAAW;AACvB,UAAIV,KAAK,GAAGjB,CAAC,CAAC,KAAKQ,GAAL,CAASgG,WAAV,CAAb;AAEA,WAAKvF,KAAL,GAAaA,KAAK,CAACoB,MAAN,GAAepB,KAAf,GAAuBhB,OAAO,CAAC2F,gBAAR,CAAyBrF,IAAzB,CAA8B,IAA9B,CAApC;AACD,KA5SW;AA8SZe,IAAAA,YAAY,EAAE,wBAAW;AACvB,WAAK,IAAIc,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,KAAK5B,GAAL,CAAS+B,MAA9B,EAAsCH,CAAC,EAAvC,EAA2C;AACzC,YACEyD,IAAI,GAAI5F,OAAO,CAACwG,aAAR,CAAsBlG,IAAtB,CAA2B,IAA3B,EAAiC6B,CAAjC,CADV;AAAA,YAEEsE,KAAK,GAAG;AAAE9B,UAAAA,GAAG,EAAExC,CAAP;AAAU+D,UAAAA,GAAG,EAAE,KAAK3F,GAAL,CAAS6C,IAAT,GAAgB,KAAK7C,GAAL,CAASqF,IAAT;AAA/B,SAFV;;AAIA,YAAI,KAAKrF,GAAL,CAASW,QAAT,KAAsB,KAA1B,EAAiC;AAC/BuF,UAAAA,KAAK,GAAG;AAAE,wBAAYtE,CAAd;AAAiB,qBAASsE,KAAK,CAACP;AAAhC,WAAR,CAD+B,CACgB;AAChD;;AAEDO,QAAAA,KAAK,CAACT,KAAN,GAAchG,OAAO,CAAC0G,QAAR,CAAiBpG,IAAjB,CAAsB,IAAtB,EAA4B6B,CAA5B,CAAd;AAEApC,QAAAA,CAAC,CAAC,MAAM,KAAKQ,GAAL,CAASW,QAAf,GAA0B,KAA3B,EAAkCuF,KAAlC,CAAD,CAA0CV,QAA1C,CAAmD,IAAnD;;AAEA,YAAI,KAAKxF,GAAL,CAASoG,KAAb,EAAoB;AAClB,eAAKvG,IAAL,CAAUkG,MAAV,CAAiBnE,CAAC,GAAG,KAAK5B,GAAL,CAAS+B,MAAb,GAAsB,QAAtB,GAAiC,EAAlD;AACD;AACF;;AAED,WAAKiC,KAAL,GAAa,KAAKnE,IAAL,CAAUwG,QAAV,CAAmB,KAAKrG,GAAL,CAASW,QAA5B,CAAb;AACD,KAlUW;AAoUZ2F,IAAAA,MAAM,EAAE,gBAASC,OAAT,EAAkB;AACxB/G,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQgH,IAAR,CAAaD,OAAb;AAEA/G,MAAAA,CAAC,CAACiH,KAAF,CAAQF,OAAR;AACD,KAxUW;AA0UZtD,IAAAA,KAAK,EAAE,eAASxC,KAAT,EAAgB;AACrB,UAAIiG,IAAI,GAAG,CAAX;;AAEA,WAAK,IAAI9E,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,KAAKoC,KAAL,CAAWnC,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C,YACE8C,IADF;AAAA,YAEEiC,IAAI,GAAK,KAAK3C,KAAL,CAAWpC,CAAC,GAAG,CAAf,CAFX;AAAA,YAGEgF,MAAM,GAAGnH,OAAO,CAACoH,OAAR,CAAgB9G,IAAhB,CAAqB,IAArB,EAA2B6B,CAA3B,EAA8BnB,KAA9B,CAHX;;AAKA,YAAI,KAAKT,GAAL,CAAS8G,SAAT,IAAsB,KAAK9G,GAAL,CAAS8G,SAAT,CAAmBjF,MAAnB,GAA4B6E,IAAtD,EAA4D;AAC1D,cAAIK,MAAM,GAAG,KAAK/G,GAAL,CAAS8G,SAAT,CAAmBJ,IAAnB,CAAb;AAEAhC,UAAAA,IAAI,GAAGjF,OAAO,CAACuH,aAAR,CAAsBjH,IAAtB,CAA2B,IAA3B,EAAiCgH,MAAjC,EAAyCH,MAAzC,CAAP;;AAEA,cAAIhF,CAAC,IAAImF,MAAM,CAACE,KAAhB,EAAuB;AACrBxH,YAAAA,OAAO,CAACoF,QAAR,CAAiB9E,IAAjB,CAAsB,IAAtB,EAA4B4G,IAA5B,EAAkCjC,IAAlC;AACD;;AAED,cAAI9C,CAAC,KAAKmF,MAAM,CAACE,KAAjB,EAAwB;AACtBP,YAAAA,IAAI;AACL;AACF,SAZD,MAYO;AACLhC,UAAAA,IAAI,GAAG,KAAK1E,GAAL,CAAS4G,MAAM,GAAG,QAAH,GAAc,SAA7B,CAAP;;AAEAnH,UAAAA,OAAO,CAACoF,QAAR,CAAiB9E,IAAjB,CAAsB,IAAtB,EAA4B4G,IAA5B,EAAkCjC,IAAlC;AACD;AACF;AACF,KArWW;AAuWZwC,IAAAA,gBAAgB,EAAE,0BAASnF,MAAT,EAAiB;AACjC,UACEoF,OAAO,GAAGpF,MAAM,CAACQ,QAAP,GAAkB6E,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CADZ;AAAA,UAEEC,MAAM,GAAI,CAFZ;;AAIA,UAAIF,OAAJ,EAAa;AACXE,QAAAA,MAAM,GAAGC,QAAQ,CAACH,OAAO,CAACrE,MAAR,CAAe,CAAf,CAAD,EAAoB,EAApB,CAAjB;;AAEA,YAAIqE,OAAO,CAACI,KAAR,CAAc,CAAd,EAAiB,CAAjB,MAAwB,MAA5B,EAAoC;AAClCF,UAAAA,MAAM;AACP;AACF;;AAED,aAAOA,MAAP;AACD,KArXW;AAuXZL,IAAAA,aAAa,EAAE,uBAASD,MAAT,EAAiBH,MAAjB,EAAyB;AACtC,aAAOA,MAAM,GAAGG,MAAM,CAAC9C,EAAP,IAAa,KAAKjE,GAAL,CAASwH,MAAzB,GAAkCT,MAAM,CAACU,GAAP,IAAc,KAAKzH,GAAL,CAASiF,OAAtE;AACD,KAzXW;AA2XZF,IAAAA,mBAAmB,EAAE,6BAASb,GAAT,EAAcQ,IAAd,EAAoB;AACvC,UAAIjE,KAAK,GAAG6G,QAAQ,CAAC5C,IAAI,CAACN,GAAL,IAAYM,IAAI,CAACgD,YAAL,CAAkB,UAAlB,CAAb,EAA4C,EAA5C,CAApB;;AAEA,UAAI,KAAK1H,GAAL,CAASkC,IAAb,EAAmB;AACjB,YACEyF,IAAI,GAAMlI,OAAO,CAACmI,SAAR,CAAkB7H,IAAlB,CAAuB,IAAvB,CADZ;AAAA,YAEE8H,OAAO,GAAGrE,UAAU,CAAC,CAACU,GAAG,CAAC4D,KAAJ,GAAYtI,CAAC,CAACkF,IAAD,CAAD,CAAQqD,MAAR,GAAiBC,IAA9B,IAAsCL,IAAvC,CAFtB;;AAIAlH,QAAAA,KAAK,GAAGA,KAAK,GAAG,CAAR,GAAYoH,OAApB;AACD;;AAED,aAAOpH,KAAP;AACD,KAvYW;AAyYZ0F,IAAAA,QAAQ,EAAE,kBAAS1F,KAAT,EAAgByD,GAAhB,EAAqB;AAC7B,UAAIzD,KAAK,KAAK,CAAV,IAAe,CAACA,KAApB,EAA2B;AACzB,eAAO,KAAKT,GAAL,CAASiI,UAAhB;AACD;;AAED,UACEd,OAAO,GAAG1H,OAAO,CAACyH,gBAAR,CAAyBnH,IAAzB,CAA8B,IAA9B,EAAoCU,KAApC,CADZ;AAAA,UAEEyH,OAAO,GAAG3E,IAAI,CAAC4E,IAAL,CAAU1H,KAAV,CAFZ;AAAA,UAGE2B,KAAK,GAAK,KAAKpC,GAAL,CAASgC,KAAT,CAAe,CAACkG,OAAO,IAAI,CAAZ,IAAiB,CAAhC,CAHZ;AAAA,UAIEzF,IAAI,GAAML,KAJZ;AAAA,UAKEgG,GAAG,GAAO,CAAClE,GAAD,IAAQ,KAAKmE,IALzB;;AAOA,UAAI,KAAKrI,GAAL,CAASiB,SAAb,EAAwB;AACtB,YAAImH,GAAJ,EAAS;AACPjB,UAAAA,OAAO,GAAGA,OAAO,KAAK,CAAZ,GAAgB,CAAhB,GAAoBA,OAAO,GAAG,CAAxC;AACD;;AAED1E,QAAAA,IAAI,GAAGL,KAAK,CAAC+E,OAAD,CAAZ;AACD,OAND,MAMO,IAAI,KAAKnH,GAAL,CAASiC,QAAT,IAAqB,KAAKjC,GAAL,CAASkC,IAAlC,EAAwC;AAC7CiF,QAAAA,OAAO,GAAGiB,GAAG,IAAIjB,OAAO,KAAK,CAAnB,GAAuB,CAAvB,GAA2BA,OAAO,GAAG,CAAV,GAAc,CAAd,GAAkB,CAAvD;AAEA1E,QAAAA,IAAI,GAAGL,KAAK,CAAC+E,OAAD,CAAZ;AACD;;AAED,aAAO1E,IAAI,KAAK,EAAT,GAAc,EAAd,GAAmBA,IAAI,IAAIhC,KAAlC;AACD,KAlaW;AAoaZmH,IAAAA,SAAS,EAAE,qBAAW;AACpB,UAAIU,KAAK,GAAG,KAAKtE,KAAL,CAAW,CAAX,EAAcsE,KAAd,IAAuB9E,UAAU,CAAC,KAAKQ,KAAL,CAAWuE,EAAX,CAAc,CAAd,EAAiBC,GAAjB,CAAqB,WAArB,CAAD,CAA7C;;AAEA,UAAI,CAACF,KAAL,EAAY;AACV7I,QAAAA,OAAO,CAAC6G,MAAR,CAAevG,IAAf,CAAoB,IAApB,EAA0B,+BAA1B;AACD;;AAED,aAAOuI,KAAP;AACD,KA5aW;AA8aZ9G,IAAAA,KAAK,EAAE,iBAAW;AAChB,UAAIiB,IAAI,GAAGhD,OAAO,CAAC0G,QAAR,CAAiBpG,IAAjB,CAAsB,IAAtB,EAA4B,KAAKU,KAAL,CAAWyC,GAAX,EAA5B,CAAX;;AAEA,WAAKzB,KAAL,CAAWC,MAAX,GAAoB,EAApB;AACA,WAAK+D,KAAL,GAAoBhD,IAApB;AAEA,WAAKhC,KAAL,CAAWgI,IAAX,CAAgB,UAAhB,EAA4B,IAA5B;AACA,WAAKzE,KAAL,CAAWyE,IAAX,CAAgB,OAAhB,EAAyBhG,IAAzB;;AAEA,UAAI,KAAK1B,MAAT,EAAiB;AACf,aAAKA,MAAL,CAAY2H,IAAZ;AACD;;AAED,WAAK7I,IAAL,CAAUQ,IAAV,CAAe,UAAf,EAA2B,IAA3B;AACD,KA5bW;AA8bZ4F,IAAAA,aAAa,EAAE,uBAASrE,CAAT,EAAY;AACzB,aAAO,KAAK5B,GAAL,CAASS,KAAT,IAAkB,KAAKT,GAAL,CAASS,KAAT,IAAkBmB,CAApC,GAAwC,QAAxC,GAAmD,SAA1D;AACD,KAhcW;AAkcZ4C,IAAAA,WAAW,EAAE,uBAAW;AACtB,WAAK,IAAI5C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK5B,GAAL,CAAS+B,MAA7B,EAAqCH,CAAC,EAAtC,EAA0C;AACxC,aAAKoC,KAAL,CAAWpC,CAAX,EAAc6D,KAAd,GAAsBhG,OAAO,CAAC0G,QAAR,CAAiBpG,IAAjB,CAAsB,IAAtB,EAA4B6B,CAAC,GAAG,CAAhC,CAAtB;AACD;AACF,KAtcW;AAwcZ0C,IAAAA,eAAe,EAAE,yBAAS7D,KAAT,EAAgB;AAC/B,UACEyH,OAAO,GAAGZ,QAAQ,CAAC7G,KAAD,EAAQ,EAAR,CADpB;AAAA,UAEE0G,OAAO,GAAG1H,OAAO,CAACyH,gBAAR,CAAyBnH,IAAzB,CAA8B,IAA9B,EAAoCU,KAApC,CAFZ;;AAIA,UAAI0G,OAAO,KAAK,CAAhB,EAAmB;AACjBA,QAAAA,OAAO,GAAGA,OAAO,GAAG,CAAV,GAAc,CAAd,GAAkB,GAA5B;AACD;;AAED,aAAOe,OAAO,GAAGf,OAAjB;AACD,KAldW;AAodZhE,IAAAA,WAAW,EAAE,qBAAS1C,KAAT,EAAgByD,GAAhB,EAAqB;AAChC,UACEiD,OAAO,GAAG,CAAC1G,KAAK,GAAG,CAAT,EAAYkI,OAAZ,CAAoB,CAApB,CADZ;AAAA,UAEEtD,IAFF;;AAIA,UAAInB,GAAG,IAAI,KAAKmE,IAAhB,EAAsB;AACpBhD,QAAAA,IAAI,GAAG8B,OAAO,GAAG,GAAV,GAAgB,QAAhB,GAA2B,UAAlC;AACD,OAFD,MAEO,IAAIA,OAAO,GAAG,KAAKnH,GAAL,CAAS4I,KAAT,CAAeC,IAA7B,EAAmC;AAAE;AAC1CxD,QAAAA,IAAI,GAAG,QAAP;;AAEA,YAAI,KAAKrF,GAAL,CAASiC,QAAT,IAAqBkF,OAAO,GAAG,KAAKnH,GAAL,CAAS4I,KAAT,CAAeE,EAAlD,EAAsD;AAAE;AACtDzD,UAAAA,IAAI,GAAG,UAAP;AACD,SAFD,MAEO,IAAI8B,OAAO,GAAG,KAAKnH,GAAL,CAAS4I,KAAT,CAAeG,IAA7B,EAAmC;AAAE;AAC1C1D,UAAAA,IAAI,GAAG,SAAP;AACD;AACF;;AAED,UAAIA,IAAJ,EAAU;AACR,YACEX,IAAI,GAAG,KAAK1E,GAAL,CAASqF,IAAT,CADT;AAAA,YAEEsB,IAAI,GAAG,KAAK3C,KAAL,CAAWT,IAAI,CAAC4E,IAAL,CAAU1H,KAAV,IAAmB,CAA9B,CAFT;;AAIAhB,QAAAA,OAAO,CAACoF,QAAR,CAAiB9E,IAAjB,CAAsB,IAAtB,EAA4B4G,IAA5B,EAAkCjC,IAAlC;AACD,OAvB+B,CAuB9B;;AACH,KA5eW;AA8eZG,IAAAA,QAAQ,EAAE,kBAAS8B,IAAT,EAAejC,IAAf,EAAqB;AAC7BiC,MAAAA,IAAI,CAAC,KAAK3G,GAAL,CAASW,QAAT,KAAsB,KAAtB,GAA8B,KAA9B,GAAsC,WAAvC,CAAJ,GAA0D,KAAKX,GAAL,CAAS6C,IAAT,GAAgB6B,IAA1E;AACD,KAhfW;AAkfZsE,IAAAA,UAAU,EAAE,oBAASC,MAAT,EAAiBxI,KAAjB,EAAwB;AAClC,UAAIA,KAAJ,EAAW;AACTA,QAAAA,KAAK,GAAG,KAAKT,GAAL,CAASkJ,YAAT,CAAsB3G,QAAtB,GAAiCS,OAAjC,CAAyC,SAAzC,EAAoDvC,KAApD,CAAR;AACD;;AAED,UAAIwI,MAAM,CAACE,EAAP,CAAU,QAAV,CAAJ,EAAyB;AACvBF,QAAAA,MAAM,CAAC/F,GAAP,CAAWzC,KAAX;AACD,OAFD,MAEO;AACLwI,QAAAA,MAAM,CAACG,IAAP,CAAY3I,KAAZ;AACD;AACF,KA5fW;AA8fZY,IAAAA,SAAS,EAAE,mBAASZ,KAAT,EAAgByD,GAAhB,EAAqB;AAC9B,UAAIzD,KAAJ,EAAW;AACT,YACEyH,OAAO,GAAGZ,QAAQ,CAAC/D,IAAI,CAAC4E,IAAL,CAAU1H,KAAV,CAAD,EAAmB,EAAnB,CADpB;AAAA,YAEEkG,IAAI,GAAM,KAAK3C,KAAL,CAAWkE,OAAO,GAAG,CAArB,CAFZ;AAIAvB,QAAAA,IAAI,CAAClB,KAAL,GAAahG,OAAO,CAAC0G,QAAR,CAAiBpG,IAAjB,CAAsB,IAAtB,EAA4BU,KAA5B,EAAmCyD,GAAnC,CAAb;AACD;AACF,KAtgBW;AAwgBZ5C,IAAAA,OAAO,EAAE,iBAASb,KAAT,EAAgByD,GAAhB,EAAqB;AAC5B,UAAI,KAAKlE,GAAL,CAASiJ,MAAb,EAAqB;AACnB,YAAIA,MAAM,GAAGzJ,CAAC,CAAC,KAAKQ,GAAL,CAASiJ,MAAV,CAAd;;AAEA,YAAI,CAACA,MAAM,CAACpH,MAAZ,EAAoB;AAClBpC,UAAAA,OAAO,CAAC6G,MAAR,CAAevG,IAAf,CAAoB,IAApB,EAA0B,qCAA1B;AACD;;AAED,YAAIiF,SAAS,GAAGd,GAAG,IAAIA,GAAG,CAACqB,IAAJ,KAAa,WAApC;;AAEA,YAAI9E,KAAK,KAAKkC,SAAd,EAAyB;AACvBlC,UAAAA,KAAK,GAAG,KAAKT,GAAL,CAASqJ,UAAjB;AACD,SAFD,MAEO,IAAI5I,KAAK,KAAK,IAAd,EAAoB;AACzBA,UAAAA,KAAK,GAAGuE,SAAS,GAAG,KAAKhF,GAAL,CAAS0F,UAAZ,GAAyB,KAAK1F,GAAL,CAASqJ,UAAnD;AACD,SAFM,MAEA;AACL,cAAI,KAAKrJ,GAAL,CAASsJ,UAAT,KAAwB,MAA5B,EAAoC;AAClC7I,YAAAA,KAAK,GAAGhB,OAAO,CAAC0G,QAAR,CAAiBpG,IAAjB,CAAsB,IAAtB,EAA4BU,KAA5B,EAAmCyD,GAAnC,CAAR;AACD,WAFD,MAEO,IAAI,KAAKlE,GAAL,CAASiB,SAAb,EAAwB;AAC7BR,YAAAA,KAAK,GAAG+C,UAAU,CAAC/C,KAAD,CAAV,CAAkBkI,OAAlB,CAA0B,CAA1B,CAAR;AACD;;AAED,cAAIY,SAAS,GAAGrF,GAAG,IAAIA,GAAG,CAACqB,IAAJ,KAAa,WAApC;;AAEA,cAAI,CAACP,SAAD,IAAc,CAACuE,SAAf,IAA4B,CAAC,KAAKvJ,GAAL,CAASwJ,UAA1C,EAAsD;AACpD/I,YAAAA,KAAK,GAAG,KAAKT,GAAL,CAASqJ,UAAjB;AACD;AACF;;AAED5J,QAAAA,OAAO,CAACuJ,UAAR,CAAmBjJ,IAAnB,CAAwB,IAAxB,EAA8BkJ,MAA9B,EAAsCxI,KAAtC;AACD;AACF,KAtiBW;AAwiBZoG,IAAAA,OAAO,EAAE,iBAASjF,CAAT,EAAYnB,KAAZ,EAAmB;AAC1B,aAAO,KAAKT,GAAL,CAASyJ,MAAT,GAAmB7H,CAAC,KAAKnB,KAAzB,GAAmCmB,CAAC,IAAInB,KAA/C;AACD,KA1iBW;AA4iBZiJ,IAAAA,OAAO,EAAE,mBAAW;AAClB,WAAKjI,KAAL,CAAWC,MAAX,GAAoB,SAApB;AACA,WAAKiI,eAAL,CAAqB,OAArB;AAEA,WAAKlJ,KAAL,CAAW8D,UAAX,CAAsB,UAAtB;AAEA,WAAK1E,IAAL,CAAUQ,IAAV,CAAe,UAAf,EAA2B,KAA3B;;AAEA,WAAK,IAAIuB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK5B,GAAL,CAAS+B,MAA7B,EAAqCH,CAAC,EAAtC,EAA0C;AACxC,aAAKoC,KAAL,CAAWpC,CAAX,EAAc6D,KAAd,GAAsBhG,OAAO,CAAC0G,QAAR,CAAiBpG,IAAjB,CAAsB,IAAtB,EAA4B6B,CAAC,GAAG,CAAhC,CAAtB;AACD;;AAED,UAAI,KAAKb,MAAT,EAAiB;AACf,aAAKA,MAAL,CAAYyH,GAAZ,CAAgB,SAAhB,EAA2B,EAA3B;AACD;AACF,KA3jBW;AA6jBZzH,IAAAA,MAAM,EAAE,gBAASsD,KAAT,EAAgB;AACtB,aAAO,KAAKzE,IAAL,CAAU,YAAW;AAC1B,YAAIC,IAAI,GAAGL,CAAC,CAAC,IAAD,CAAZ;;AAEA,YAAIK,IAAI,CAACQ,IAAL,CAAU,UAAV,MAA0B,IAA9B,EAAoC;AAClCZ,UAAAA,OAAO,CAAC4E,KAAK,GAAG,OAAH,GAAa,OAAnB,CAAP,CAAmCtE,IAAnC,CAAwCF,IAAxC,EAA8C,IAA9C;AAEA,eAAKY,KAAL,CAAW8D,UAAX,CAAsB,OAAtB;AACD;AACF,OARM,CAAP;AASD,KAvkBW;AAykBZF,IAAAA,KAAK,EAAE,eAAS5D,KAAT,EAAgB;AACrB,aAAO,KAAKb,IAAL,CAAU,YAAW;AAC1B,YAAIJ,CAAC,CAAC,IAAD,CAAD,CAAQa,IAAR,CAAa,UAAb,MAA6B,IAAjC,EAAuC;AACrCI,UAAAA,KAAK,GAAGhB,OAAO,CAACiB,cAAR,CAAuBX,IAAvB,CAA4B,IAA5B,EAAkCU,KAAlC,CAAR;;AAEAhB,UAAAA,OAAO,CAAC2B,MAAR,CAAerB,IAAf,CAAoB,IAApB,EAA0BU,KAA1B;;AAEA,cAAI,KAAKT,GAAL,CAASqE,KAAb,EAAoB;AAClB,iBAAKrE,GAAL,CAASqE,KAAT,CAAetE,IAAf,CAAoB,IAApB,EAA0BU,KAA1B,EAAiCjB,CAAC,CAACoK,KAAF,CAAQ,OAAR,CAAjC;AACD;;AAEDnK,UAAAA,OAAO,CAAC6B,OAAR,CAAgBvB,IAAhB,CAAqB,IAArB,EAA2BU,KAA3B;AACD;AACF,OAZM,CAAP;AAaD,KAvlBW;AAylBZX,IAAAA,OAAO,EAAE,mBAAW;AAClB,aAAO,KAAKF,IAAL,CAAU,YAAW;AAC1B,YACEC,IAAI,GAAGL,CAAC,CAAC,IAAD,CADV;AAAA,YAEEqK,GAAG,GAAIhK,IAAI,CAACQ,IAAL,CAAU,KAAV,CAFT;;AAIA,YAAIwJ,GAAJ,EAAS;AACPhK,UAAAA,IAAI,CAAC4H,GAAL,CAAS,OAAT,EAAkBqC,KAAlB,GAA0BtB,GAA1B,CAA8B;AAAE9G,YAAAA,MAAM,EAAEmI,GAAG,CAACpI,KAAJ,CAAUC;AAApB,WAA9B,EAA4DqI,UAA5D,CAAuE,UAAvE;AACD,SAFD,MAEO;AACLlK,UAAAA,IAAI,CAACQ,IAAL,CAAU,KAAV,EAAiBR,IAAI,CAACmK,KAAL,GAAa,CAAb,CAAjB;AACD;AACF,OAVM,CAAP;AAWD,KArmBW;AAumBZC,IAAAA,QAAQ,EAAE,oBAAW;AACnB,UACExJ,KAAK,GAAG,EADV;AAAA,UAEE2C,KAFF;AAIA,WAAKxD,IAAL,CAAU,YAAW;AACnBwD,QAAAA,KAAK,GAAG,KAAK3C,KAAL,CAAWyC,GAAX,EAAR;AAEAzC,QAAAA,KAAK,CAACyJ,IAAN,CAAW9G,KAAK,GAAG,CAACA,KAAJ,GAAYT,SAA5B;AACD,OAJD;AAMA,aAAQlC,KAAK,CAACoB,MAAN,GAAe,CAAhB,GAAqBpB,KAArB,GAA6BA,KAAK,CAAC,CAAD,CAAzC;AACD,KAnnBW;AAqnBZ4H,IAAAA,IAAI,EAAE,cAAS5H,KAAT,EAAgB;AACpB,aAAO,KAAKb,IAAL,CAAU,YAAW;AAC1B,YACEsI,OAAO,GAAIZ,QAAQ,CAAC7G,KAAD,EAAQ,EAAR,CADrB;AAAA,YAEE0G,OAAO,GAAI1H,OAAO,CAACyH,gBAAR,CAAyBnH,IAAzB,CAA8B,IAA9B,EAAoCU,KAApC,CAFb;;AAIA,YAAIyH,OAAO,IAAI,KAAKlI,GAAL,CAAS+B,MAAxB,EAAgC;AAC9BmG,UAAAA,OAAO,GAAG,KAAKlI,GAAL,CAAS+B,MAAT,GAAkB,CAA5B;AACAoF,UAAAA,OAAO,GAAG,EAAV;AACD;;AAED,YACEmB,KAAK,GAAK7I,OAAO,CAACmI,SAAR,CAAkB7H,IAAlB,CAAuB,IAAvB,CADZ;AAAA,YAEEoC,KAAK,GAAKmG,KAAK,GAAG,EAFpB;AAAA,YAGE3B,IAAI,GAAMnH,CAAC,CAAC,KAAKwE,KAAL,CAAWkE,OAAX,CAAD,CAHb;AAAA,YAIEL,OAAO,GAAGlB,IAAI,CAACoB,MAAL,GAAcC,IAAd,GAAqB7F,KAAK,GAAGgF,OAJzC;AAAA,YAKEjD,GAAG,GAAO1E,CAAC,CAACoK,KAAF,CAAQ,WAAR,EAAqB;AAAE9B,UAAAA,KAAK,EAAED;AAAT,SAArB,CALZ;;AAOA,aAAKQ,IAAL,GAAY,IAAZ;AAEA1B,QAAAA,IAAI,CAACwD,OAAL,CAAajG,GAAb;AAEA,aAAKmE,IAAL,GAAY,KAAZ;AACD,OAtBM,CAAP;AAuBD,KA7oBW;AA+oBZ9G,IAAAA,QAAQ,EAAE,kBAAS6I,QAAT,EAAmB;AAC3B,aAAO,KAAKxK,IAAL,CAAU,YAAW;AAC1B,YAAIC,IAAI,GAAGL,CAAC,CAAC,IAAD,CAAZ;;AAEA,YAAIK,IAAI,CAACQ,IAAL,CAAU,UAAV,MAA0B+J,QAA9B,EAAwC;AACtC,cAAIA,QAAJ,EAAc;AACZvK,YAAAA,IAAI,CAAC4H,GAAL,CAAS,OAAT,EAAkBpB,QAAlB,CAA2B,KAAKrG,GAAL,CAASW,QAApC,EAA8C8G,GAA9C,CAAkD,OAAlD;;AAEAhI,YAAAA,OAAO,CAAC+B,KAAR,CAAczB,IAAd,CAAmB,IAAnB;AACD,WAJD,MAIO;AACLN,YAAAA,OAAO,CAACkC,MAAR,CAAe5B,IAAf,CAAoB,IAApB;;AACAN,YAAAA,OAAO,CAACiK,OAAR,CAAgB3J,IAAhB,CAAqB,IAArB;AACD;;AAEDF,UAAAA,IAAI,CAACQ,IAAL,CAAU,UAAV,EAAsB+J,QAAtB;AACD;AACF,OAfM,CAAP;AAgBD,KAhqBW;AAkqBZC,IAAAA,MAAM,EAAE,kBAAW;AACjB,aAAO5K,OAAO,CAAC2I,GAAR,CAAYrI,IAAZ,CAAiB,IAAjB,EAAuB,EAAvB,CAAP;AACD,KApqBW;AAsqBZU,IAAAA,KAAK,EAAE,iBAAW;AAChB,UAAIZ,IAAI,GAAGL,CAAC,CAAC,IAAD,CAAZ;AAEA,aAAO8K,SAAS,CAACzI,MAAV,GAAmBpC,OAAO,CAAC8K,QAAR,CAAiBC,KAAjB,CAAuB3K,IAAvB,EAA6ByK,SAA7B,CAAnB,GAA6D7K,OAAO,CAACwK,QAAR,CAAiBlK,IAAjB,CAAsBF,IAAtB,CAApE;AACD,KA1qBW;AA4qBZuI,IAAAA,GAAG,EAAE,aAASzI,OAAT,EAAkB;AACrB,aAAO,KAAKC,IAAL,CAAU,YAAW;AAC1BJ,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQW,IAAR,CAAaX,CAAC,CAACS,MAAF,CAAS,EAAT,EAAa,KAAKD,GAAlB,EAAuBL,OAAvB,CAAb;AACD,OAFM,CAAP;AAGD,KAhrBW;AAkrBZ4K,IAAAA,QAAQ,EAAE,kBAAS9J,KAAT,EAAgB;AACxB,aAAO,KAAKb,IAAL,CAAU,YAAW;AAC1B,YAAIJ,CAAC,CAAC,IAAD,CAAD,CAAQa,IAAR,CAAa,UAAb,MAA6B,IAAjC,EAAuC;AACrCI,UAAAA,KAAK,GAAGhB,OAAO,CAACiB,cAAR,CAAuBX,IAAvB,CAA4B,IAA5B,EAAkCU,KAAlC,CAAR;;AAEAhB,UAAAA,OAAO,CAAC2B,MAAR,CAAerB,IAAf,CAAoB,IAApB,EAA0BU,KAA1B;;AACAhB,UAAAA,OAAO,CAAC6B,OAAR,CAAgBvB,IAAhB,CAAqB,IAArB,EAA2BU,KAA3B;AACD;AACF,OAPM,CAAP;AAQD;AA3rBW,GAAd;;AA8rBAjB,EAAAA,CAAC,CAACU,EAAF,CAAKC,IAAL,GAAY,UAASsK,MAAT,EAAiB;AAC3B,QAAIhL,OAAO,CAACgL,MAAD,CAAX,EAAqB;AACnB,aAAOhL,OAAO,CAACgL,MAAD,CAAP,CAAgBD,KAAhB,CAAsB,IAAtB,EAA4BE,KAAK,CAACpI,SAAN,CAAgBiF,KAAhB,CAAsBxH,IAAtB,CAA2BuK,SAA3B,EAAsC,CAAtC,CAA5B,CAAP;AACD,KAFD,MAEO,IAAI,OAAOG,MAAP,KAAkB,QAAlB,IAA8B,CAACA,MAAnC,EAA2C;AAChD,aAAOhL,OAAO,CAACC,IAAR,CAAa8K,KAAb,CAAmB,IAAnB,EAAyBF,SAAzB,CAAP;AACD,KAFM,MAEA;AACL9K,MAAAA,CAAC,CAACiH,KAAF,CAAQ,YAAYgE,MAAZ,GAAqB,kBAA7B;AACD;AACF,GARD;;AAUAjL,EAAAA,CAAC,CAACU,EAAF,CAAKC,IAAL,CAAUC,QAAV,GAAqB;AACnBW,IAAAA,MAAM,EAAQ,KADK;AAEnB6D,IAAAA,WAAW,EAAG,aAFK;AAGnBc,IAAAA,UAAU,EAAI,qBAHK;AAInBf,IAAAA,SAAS,EAAK,gBAJK;AAKnBO,IAAAA,QAAQ,EAAM,eALK;AAMnBW,IAAAA,WAAW,EAAG,MANK;AAOnBxB,IAAAA,KAAK,EAAS1B,SAPK;AAQnBT,IAAAA,IAAI,EAAU,KARK;AASnBD,IAAAA,QAAQ,EAAM,IATK;AAUnBD,IAAAA,KAAK,EAAS,CAAC,KAAD,EAAQ,MAAR,EAAgB,SAAhB,EAA2B,MAA3B,EAAmC,UAAnC,CAVK;AAWnB8E,IAAAA,SAAS,EAAKnE,SAXK;AAYnB8B,IAAAA,QAAQ,EAAM9B,SAZK;AAanBqC,IAAAA,SAAS,EAAKrC,SAbK;AAcnBsF,IAAAA,UAAU,EAAI,gBAdK;AAenBlG,IAAAA,MAAM,EAAQ,CAfK;AAgBnBa,IAAAA,SAAS,EAAK,EAhBK;AAiBnBC,IAAAA,IAAI,EAAUF,SAjBK;AAkBnB1B,IAAAA,SAAS,EAAK,KAlBK;AAmBnBM,IAAAA,QAAQ,EAAM,KAnBK;AAoBnBqH,IAAAA,KAAK,EAAS;AAAEC,MAAAA,IAAI,EAAE,IAAR;AAAcE,MAAAA,IAAI,EAAE,GAApB;AAAyBD,MAAAA,EAAE,EAAE;AAA7B,KApBK;AAqBnBrI,IAAAA,KAAK,EAASkC,SArBK;AAsBnB2C,IAAAA,SAAS,EAAK,OAtBK;AAuBnBmE,IAAAA,MAAM,EAAQ,KAvBK;AAwBnBrD,IAAAA,KAAK,EAAS,IAxBK;AAyBnBuE,IAAAA,QAAQ,EAAM,eAzBK;AA0BnB1F,IAAAA,OAAO,EAAO,cA1BK;AA2BnBuC,IAAAA,MAAM,EAAQ,aA3BK;AA4BnB7G,IAAAA,QAAQ,EAAM,KA5BK;AA6BnBsI,IAAAA,MAAM,EAAQtG,SA7BK;AA8BnBuG,IAAAA,YAAY,EAAE,SA9BK;AA+BnBM,IAAAA,UAAU,EAAI,KA/BK;AAgCnBxD,IAAAA,WAAW,EAAGrD,SAhCK;AAiCnB0G,IAAAA,UAAU,EAAI,EAjCK;AAkCnBC,IAAAA,UAAU,EAAI;AAlCK,GAArB;AAoCD,CApwBH,EAowBKsB,MApwBL","sourcesContent":["// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\n\nrequire(\"@rails/ujs\").start()\nrequire(\"turbolinks\").start()\nrequire(\"@rails/activestorage\").start()\nrequire(\"channels\")\n\n\n\n// Uncomment to copy all static images under ../images to the output folder and reference\n// them with the image_pack_tag helper in views (e.g <%= image_pack_tag 'rails.png' %>)\n// or the `imagePath` JavaScript helper below.\n//\n// const images = require.context('../images', true)\n// const imagePath = (name) => images(name, true)\n/*!\n * jQuery Raty - A Star Rating Plugin\n *\n * The MIT License\n *\n * author:  Washington Botelho\n * github:  wbotelhos/raty\n * version: 2.9.0\n *\n */\n\n(function($) {\n    'use strict';\n  \n    var methods = {\n      init: function(options) {\n        return this.each(function() {\n          this.self = $(this);\n  \n          methods.destroy.call(this.self);\n  \n          this.opt = $.extend(true, {}, $.fn.raty.defaults, options, this.self.data());\n  \n          methods._adjustCallback.call(this);\n          methods._adjustNumber.call(this);\n          methods._adjustHints.call(this);\n  \n          this.opt.score = methods._adjustedScore.call(this, this.opt.score);\n  \n          if (this.opt.starType !== 'img') {\n            methods._adjustStarType.call(this);\n          }\n  \n          methods._adjustPath.call(this);\n          methods._createStars.call(this);\n  \n          if (this.opt.cancel) {\n            methods._createCancel.call(this);\n          }\n  \n          if (this.opt.precision) {\n            methods._adjustPrecision.call(this);\n          }\n  \n          methods._createScore.call(this);\n          methods._apply.call(this, this.opt.score);\n          methods._setTitle.call(this, this.opt.score);\n          methods._target.call(this, this.opt.score);\n  \n          if (this.opt.readOnly) {\n            methods._lock.call(this);\n          } else {\n            this.style.cursor = 'pointer';\n  \n            methods._binds.call(this);\n          }\n        });\n      },\n  \n      _adjustCallback: function() {\n        var options = ['number', 'readOnly', 'score', 'scoreName', 'target', 'path'];\n  \n        for (var i = 0; i < options.length; i++) {\n          if (typeof this.opt[options[i]] === 'function') {\n            this.opt[options[i]] = this.opt[options[i]].call(this);\n          }\n        }\n      },\n  \n      _adjustedScore: function(score) {\n        if (!score) {\n          return score;\n        }\n  \n        return methods._between(score, 0, this.opt.number);\n      },\n  \n      _adjustHints: function() {\n        if (!this.opt.hints) {\n          this.opt.hints = [];\n        }\n  \n        if (!this.opt.halfShow && !this.opt.half) {\n          return;\n        }\n  \n        var steps = this.opt.precision ? 10 : 2;\n  \n        for (var i = 0; i < this.opt.number; i++) {\n          var group = this.opt.hints[i];\n  \n          if (Object.prototype.toString.call(group) !== '[object Array]') {\n            group = [group];\n          }\n  \n          this.opt.hints[i] = [];\n  \n          for (var j = 0; j < steps; j++) {\n            var\n              hint = group[j],\n              last = group[group.length - 1];\n  \n            if (last === undefined) {\n              last = null;\n            }\n  \n            this.opt.hints[i][j] = hint === undefined ? last : hint;\n          }\n        }\n      },\n  \n      _adjustNumber: function() {\n        this.opt.number = methods._between(this.opt.number, 1, this.opt.numberMax);\n      },\n  \n      _adjustPath: function() {\n        this.opt.path = this.opt.path || '';\n  \n        if (this.opt.path && this.opt.path.charAt(this.opt.path.length - 1) !== '/') {\n          this.opt.path += '/';\n        }\n      },\n  \n      _adjustPrecision: function() {\n        this.opt.half = true;\n      },\n  \n      _adjustStarType: function() {\n        var replaces = ['cancelOff', 'cancelOn', 'starHalf', 'starOff', 'starOn'];\n  \n        this.opt.path = '';\n  \n        for (var i = 0; i < replaces.length; i++) {\n          this.opt[replaces[i]] = this.opt[replaces[i]].replace('.', '-');\n        }\n      },\n  \n      _apply: function(score) {\n        methods._fill.call(this, score);\n  \n        if (score) {\n          if (score > 0) {\n            this.score.val(score);\n          }\n  \n          methods._roundStars.call(this, score);\n        }\n      },\n  \n      _between: function(value, min, max) {\n        return Math.min(Math.max(parseFloat(value), min), max);\n      },\n  \n      _binds: function() {\n        if (this.cancel) {\n          methods._bindOverCancel.call(this);\n          methods._bindClickCancel.call(this);\n          methods._bindOutCancel.call(this);\n        }\n  \n        methods._bindOver.call(this);\n        methods._bindClick.call(this);\n        methods._bindOut.call(this);\n      },\n  \n      _bindClick: function() {\n        var that = this;\n  \n        that.stars.on('click.raty', function(evt) {\n          var\n            execute = true,\n            score   = (that.opt.half || that.opt.precision) ? that.self.data('score') : (this.alt || $(this).data('alt'));\n  \n          if (that.opt.click) {\n            execute = that.opt.click.call(that, +score, evt);\n          }\n  \n          if (execute || execute === undefined) {\n            if (that.opt.half && !that.opt.precision) {\n              score = methods._roundHalfScore.call(that, score);\n            }\n  \n            methods._apply.call(that, score);\n          }\n        });\n      },\n  \n      _bindClickCancel: function() {\n        var that = this;\n  \n        that.cancel.on('click.raty', function(evt) {\n          that.score.removeAttr('value');\n  \n          if (that.opt.click) {\n            that.opt.click.call(that, null, evt);\n          }\n        });\n      },\n  \n      _bindOut: function() {\n        var that = this;\n  \n        that.self.on('mouseleave.raty', function(evt) {\n          var score = +that.score.val() || undefined;\n  \n          methods._apply.call(that, score);\n          methods._target.call(that, score, evt);\n          methods._resetTitle.call(that);\n  \n          if (that.opt.mouseout) {\n            that.opt.mouseout.call(that, score, evt);\n          }\n        });\n      },\n  \n      _bindOutCancel: function() {\n        var that = this;\n  \n        that.cancel.on('mouseleave.raty', function(evt) {\n          var icon = that.opt.cancelOff;\n  \n          if (that.opt.starType !== 'img') {\n            icon = that.opt.cancelClass + ' ' + icon;\n          }\n  \n          methods._setIcon.call(that, this, icon);\n  \n          if (that.opt.mouseout) {\n            var score = +that.score.val() || undefined;\n  \n            that.opt.mouseout.call(that, score, evt);\n          }\n        });\n      },\n  \n      _bindOver: function() {\n        var\n          that   = this,\n          action = that.opt.half ? 'mousemove.raty' : 'mouseover.raty';\n  \n        that.stars.on(action, function(evt) {\n          var score = methods._getScoreByPosition.call(that, evt, this);\n  \n          methods._fill.call(that, score);\n  \n          if (that.opt.half) {\n            methods._roundStars.call(that, score, evt);\n            methods._setTitle.call(that, score, evt);\n  \n            that.self.data('score', score);\n          }\n  \n          methods._target.call(that, score, evt);\n  \n          if (that.opt.mouseover) {\n            that.opt.mouseover.call(that, score, evt);\n          }\n        });\n      },\n  \n      _bindOverCancel: function() {\n        var that = this;\n  \n        that.cancel.on('mouseover.raty', function(evt) {\n          var\n            starOff = that.opt.path + that.opt.starOff,\n            icon    = that.opt.cancelOn;\n  \n          if (that.opt.starType === 'img') {\n            that.stars.attr('src', starOff);\n          } else {\n            icon = that.opt.cancelClass + ' ' + icon;\n  \n            that.stars.attr('class', starOff);\n          }\n  \n          methods._setIcon.call(that, this, icon);\n          methods._target.call(that, null, evt);\n  \n          if (that.opt.mouseover) {\n            that.opt.mouseover.call(that, null);\n          }\n        });\n      },\n  \n      _buildScoreField: function() {\n        return $('<input />', { name: this.opt.scoreName, type: 'hidden' }).appendTo(this);\n      },\n  \n      _createCancel: function() {\n        var\n          icon   = this.opt.path + this.opt.cancelOff,\n          cancel = $('<' + this.opt.starType + ' />', { title: this.opt.cancelHint, 'class': this.opt.cancelClass });\n  \n        if (this.opt.starType === 'img') {\n          cancel.attr({ src: icon, alt: 'x' });\n        } else {\n          // TODO: use $.data\n          cancel.attr('data-alt', 'x').addClass(icon);\n        }\n  \n        if (this.opt.cancelPlace === 'left') {\n          this.self.prepend('&#160;').prepend(cancel);\n        } else {\n          this.self.append('&#160;').append(cancel);\n        }\n  \n        this.cancel = cancel;\n      },\n  \n      _createScore: function() {\n        var score = $(this.opt.targetScore);\n  \n        this.score = score.length ? score : methods._buildScoreField.call(this);\n      },\n  \n      _createStars: function() {\n        for (var i = 1; i <= this.opt.number; i++) {\n          var\n            name  = methods._nameForIndex.call(this, i),\n            attrs = { alt: i, src: this.opt.path + this.opt[name] };\n  \n          if (this.opt.starType !== 'img') {\n            attrs = { 'data-alt': i, 'class': attrs.src }; // TODO: use $.data.\n          }\n  \n          attrs.title = methods._getHint.call(this, i);\n  \n          $('<' + this.opt.starType + ' />', attrs).appendTo(this);\n  \n          if (this.opt.space) {\n            this.self.append(i < this.opt.number ? '&#160;' : '');\n          }\n        }\n  \n        this.stars = this.self.children(this.opt.starType);\n      },\n  \n      _error: function(message) {\n        $(this).text(message);\n  \n        $.error(message);\n      },\n  \n      _fill: function(score) {\n        var hash = 0;\n  \n        for (var i = 1; i <= this.stars.length; i++) {\n          var\n            icon,\n            star   = this.stars[i - 1],\n            turnOn = methods._turnOn.call(this, i, score);\n  \n          if (this.opt.iconRange && this.opt.iconRange.length > hash) {\n            var irange = this.opt.iconRange[hash];\n  \n            icon = methods._getRangeIcon.call(this, irange, turnOn);\n  \n            if (i <= irange.range) {\n              methods._setIcon.call(this, star, icon);\n            }\n  \n            if (i === irange.range) {\n              hash++;\n            }\n          } else {\n            icon = this.opt[turnOn ? 'starOn' : 'starOff'];\n  \n            methods._setIcon.call(this, star, icon);\n          }\n        }\n      },\n  \n      _getFirstDecimal: function(number) {\n        var\n          decimal = number.toString().split('.')[1],\n          result  = 0;\n  \n        if (decimal) {\n          result = parseInt(decimal.charAt(0), 10);\n  \n          if (decimal.slice(1, 5) === '9999') {\n            result++;\n          }\n        }\n  \n        return result;\n      },\n  \n      _getRangeIcon: function(irange, turnOn) {\n        return turnOn ? irange.on || this.opt.starOn : irange.off || this.opt.starOff;\n      },\n  \n      _getScoreByPosition: function(evt, icon) {\n        var score = parseInt(icon.alt || icon.getAttribute('data-alt'), 10);\n  \n        if (this.opt.half) {\n          var\n            size    = methods._getWidth.call(this),\n            percent = parseFloat((evt.pageX - $(icon).offset().left) / size);\n  \n          score = score - 1 + percent;\n        }\n  \n        return score;\n      },\n  \n      _getHint: function(score, evt) {\n        if (score !== 0 && !score) {\n          return this.opt.noRatedMsg;\n        }\n  \n        var\n          decimal = methods._getFirstDecimal.call(this, score),\n          integer = Math.ceil(score),\n          group   = this.opt.hints[(integer || 1) - 1],\n          hint    = group,\n          set     = !evt || this.move;\n  \n        if (this.opt.precision) {\n          if (set) {\n            decimal = decimal === 0 ? 9 : decimal - 1;\n          }\n  \n          hint = group[decimal];\n        } else if (this.opt.halfShow || this.opt.half) {\n          decimal = set && decimal === 0 ? 1 : decimal > 5 ? 1 : 0;\n  \n          hint = group[decimal];\n        }\n  \n        return hint === '' ? '' : hint || score;\n      },\n  \n      _getWidth: function() {\n        var width = this.stars[0].width || parseFloat(this.stars.eq(0).css('font-size'));\n  \n        if (!width) {\n          methods._error.call(this, 'Could not get the icon width!');\n        }\n  \n        return width;\n      },\n  \n      _lock: function() {\n        var hint = methods._getHint.call(this, this.score.val());\n  \n        this.style.cursor = '';\n        this.title        = hint;\n  \n        this.score.prop('readonly', true);\n        this.stars.prop('title', hint);\n  \n        if (this.cancel) {\n          this.cancel.hide();\n        }\n  \n        this.self.data('readonly', true);\n      },\n  \n      _nameForIndex: function(i) {\n        return this.opt.score && this.opt.score >= i ? 'starOn' : 'starOff';\n      },\n  \n      _resetTitle: function() {\n        for (var i = 0; i < this.opt.number; i++) {\n          this.stars[i].title = methods._getHint.call(this, i + 1);\n        }\n      },\n  \n      _roundHalfScore: function(score) {\n        var\n          integer = parseInt(score, 10),\n          decimal = methods._getFirstDecimal.call(this, score);\n  \n        if (decimal !== 0) {\n          decimal = decimal > 5 ? 1 : 0.5;\n        }\n  \n        return integer + decimal;\n      },\n  \n      _roundStars: function(score, evt) {\n        var\n          decimal = (score % 1).toFixed(2),\n          name ;\n  \n        if (evt || this.move) {\n          name = decimal > 0.5 ? 'starOn' : 'starHalf';\n        } else if (decimal > this.opt.round.down) { // Up: [x.76 .. x.99]\n          name = 'starOn';\n  \n          if (this.opt.halfShow && decimal < this.opt.round.up) { // Half: [x.26 .. x.75]\n            name = 'starHalf';\n          } else if (decimal < this.opt.round.full) { // Down: [x.00 .. x.5]\n            name = 'starOff';\n          }\n        }\n  \n        if (name) {\n          var\n            icon = this.opt[name],\n            star = this.stars[Math.ceil(score) - 1];\n  \n          methods._setIcon.call(this, star, icon);\n        } // Full down: [x.00 .. x.25]\n      },\n  \n      _setIcon: function(star, icon) {\n        star[this.opt.starType === 'img' ? 'src' : 'className'] = this.opt.path + icon;\n      },\n  \n      _setTarget: function(target, score) {\n        if (score) {\n          score = this.opt.targetFormat.toString().replace('{score}', score);\n        }\n  \n        if (target.is(':input')) {\n          target.val(score);\n        } else {\n          target.html(score);\n        }\n      },\n  \n      _setTitle: function(score, evt) {\n        if (score) {\n          var\n            integer = parseInt(Math.ceil(score), 10),\n            star    = this.stars[integer - 1];\n  \n          star.title = methods._getHint.call(this, score, evt);\n        }\n      },\n  \n      _target: function(score, evt) {\n        if (this.opt.target) {\n          var target = $(this.opt.target);\n  \n          if (!target.length) {\n            methods._error.call(this, 'Target selector invalid or missing!');\n          }\n  \n          var mouseover = evt && evt.type === 'mouseover';\n  \n          if (score === undefined) {\n            score = this.opt.targetText;\n          } else if (score === null) {\n            score = mouseover ? this.opt.cancelHint : this.opt.targetText;\n          } else {\n            if (this.opt.targetType === 'hint') {\n              score = methods._getHint.call(this, score, evt);\n            } else if (this.opt.precision) {\n              score = parseFloat(score).toFixed(1);\n            }\n  \n            var mousemove = evt && evt.type === 'mousemove';\n  \n            if (!mouseover && !mousemove && !this.opt.targetKeep) {\n              score = this.opt.targetText;\n            }\n          }\n  \n          methods._setTarget.call(this, target, score);\n        }\n      },\n  \n      _turnOn: function(i, score) {\n        return this.opt.single ? (i === score) : (i <= score);\n      },\n  \n      _unlock: function() {\n        this.style.cursor = 'pointer';\n        this.removeAttribute('title');\n  \n        this.score.removeAttr('readonly');\n  \n        this.self.data('readonly', false);\n  \n        for (var i = 0; i < this.opt.number; i++) {\n          this.stars[i].title = methods._getHint.call(this, i + 1);\n        }\n  \n        if (this.cancel) {\n          this.cancel.css('display', '');\n        }\n      },\n  \n      cancel: function(click) {\n        return this.each(function() {\n          var self = $(this);\n  \n          if (self.data('readonly') !== true) {\n            methods[click ? 'click' : 'score'].call(self, null);\n  \n            this.score.removeAttr('value');\n          }\n        });\n      },\n  \n      click: function(score) {\n        return this.each(function() {\n          if ($(this).data('readonly') !== true) {\n            score = methods._adjustedScore.call(this, score);\n  \n            methods._apply.call(this, score);\n  \n            if (this.opt.click) {\n              this.opt.click.call(this, score, $.Event('click'));\n            }\n  \n            methods._target.call(this, score);\n          }\n        });\n      },\n  \n      destroy: function() {\n        return this.each(function() {\n          var\n            self = $(this),\n            raw  = self.data('raw');\n  \n          if (raw) {\n            self.off('.raty').empty().css({ cursor: raw.style.cursor }).removeData('readonly');\n          } else {\n            self.data('raw', self.clone()[0]);\n          }\n        });\n      },\n  \n      getScore: function() {\n        var\n          score = [],\n          value ;\n  \n        this.each(function() {\n          value = this.score.val();\n  \n          score.push(value ? +value : undefined);\n        });\n  \n        return (score.length > 1) ? score : score[0];\n      },\n  \n      move: function(score) {\n        return this.each(function() {\n          var\n            integer  = parseInt(score, 10),\n            decimal  = methods._getFirstDecimal.call(this, score);\n  \n          if (integer >= this.opt.number) {\n            integer = this.opt.number - 1;\n            decimal = 10;\n          }\n  \n          var\n            width   = methods._getWidth.call(this),\n            steps   = width / 10,\n            star    = $(this.stars[integer]),\n            percent = star.offset().left + steps * decimal,\n            evt     = $.Event('mousemove', { pageX: percent });\n  \n          this.move = true;\n  \n          star.trigger(evt);\n  \n          this.move = false;\n        });\n      },\n  \n      readOnly: function(readonly) {\n        return this.each(function() {\n          var self = $(this);\n  \n          if (self.data('readonly') !== readonly) {\n            if (readonly) {\n              self.off('.raty').children(this.opt.starType).off('.raty');\n  \n              methods._lock.call(this);\n            } else {\n              methods._binds.call(this);\n              methods._unlock.call(this);\n            }\n  \n            self.data('readonly', readonly);\n          }\n        });\n      },\n  \n      reload: function() {\n        return methods.set.call(this, {});\n      },\n  \n      score: function() {\n        var self = $(this);\n  \n        return arguments.length ? methods.setScore.apply(self, arguments) : methods.getScore.call(self);\n      },\n  \n      set: function(options) {\n        return this.each(function() {\n          $(this).raty($.extend({}, this.opt, options));\n        });\n      },\n  \n      setScore: function(score) {\n        return this.each(function() {\n          if ($(this).data('readonly') !== true) {\n            score = methods._adjustedScore.call(this, score);\n  \n            methods._apply.call(this, score);\n            methods._target.call(this, score);\n          }\n        });\n      }\n    };\n  \n    $.fn.raty = function(method) {\n      if (methods[method]) {\n        return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n      } else if (typeof method === 'object' || !method) {\n        return methods.init.apply(this, arguments);\n      } else {\n        $.error('Method ' + method + ' does not exist!');\n      }\n    };\n  \n    $.fn.raty.defaults = {\n      cancel:       false,\n      cancelClass:  'raty-cancel',\n      cancelHint:   'Cancel this rating!',\n      cancelOff:    'cancel-off.png',\n      cancelOn:     'cancel-on.png',\n      cancelPlace:  'left',\n      click:        undefined,\n      half:         false,\n      halfShow:     true,\n      hints:        ['bad', 'poor', 'regular', 'good', 'gorgeous'],\n      iconRange:    undefined,\n      mouseout:     undefined,\n      mouseover:    undefined,\n      noRatedMsg:   'Not rated yet!',\n      number:       5,\n      numberMax:    20,\n      path:         undefined,\n      precision:    false,\n      readOnly:     false,\n      round:        { down: 0.25, full: 0.6, up: 0.76 },\n      score:        undefined,\n      scoreName:    'score',\n      single:       false,\n      space:        true,\n      starHalf:     'star-half.png',\n      starOff:      'star-off.png',\n      starOn:       'star-on.png',\n      starType:     'img',\n      target:       undefined,\n      targetFormat: '{score}',\n      targetKeep:   false,\n      targetScore:  undefined,\n      targetText:   '',\n      targetType:   'hint'\n    };\n  })(jQuery);"]},"metadata":{},"sourceType":"module"}